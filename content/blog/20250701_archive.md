---
title: 'Archived Articles from Last Blog Site'
description: "Archived articles of unity game dev, my course project, rescued from my last blog site"
headline: 'Archived Articles'
date: '2025-07-01T12:00:00'
dateUpdated: ''
published: false
author: 'Xinyu'
tags: ['archive']
image: '/img/blog/sample.webp'
socialImage:
    src: '/img/blog/sample.webp'
    mime: 'webp'
    alt: 'Mountain'
    width: 1200
    height: 630
readTime: 5
---

This blog includes all articles, together with an about page and an index page from my last. It is pulled from web archive and I didn't change a bit of its content. It is a cyber tomb to commemorate where I started as a programmer.

Back then it was during COVID, I was looking for jobs, mostly at game companies, while building my portfolio. I successfully landed my first job after six months as a backend engineer. Nowadays, I'm sort of repeating the same trajectory. If one sentence I could say to my past self, I would speak out: You are doing great, keep it up!

---

TODO: 1. format; 2. find my games back and host them (tile vania: the runner; glitch garden; paper plane simulator)

---
# index
首页
关于Xinyu


数据分析/管理；机器学习；Programmer

文章分类
Shaders (1)
技术 (4)
游戏 (3)
项目 (2)
默认分类 (2)
[Unity] 摆脱Mecanim Animation里的“毛线团”：使用Enum来管理人物状态和动画系统
 2020年10月2日 技术  0条评论 550次阅读  0人点赞  xinyu
使用Enum来管理人物状态的好处有： 完美替代 Unity Mecanim 的状态转换问题。避免Animator看起来像一团纠结在一起的毛线团 利用 [Flags] 的 Attribute可以方便的解决同时有两个或以上状…

[ShaderLab] 让物体光面始终朝向观察者的Lighting Model
 2020年8月12日 Shaders  0条评论 566次阅读  1人点赞  xinyu
一个光面始终朝向观察者的Lighting Model

[Unity] 什么是c#事件？如何用EventHandler或Action或UnityEvent实现它的功能？
 2020年7月2日 技术  0条评论 612次阅读  0人点赞  xinyu
"我要过去啦，开门！""请~" 微信公众号？个人邮箱？大字报？塔防里面通知每个小兵更改前进路线？下雨了每个NPC和花花草草要做什么？其实这些都可以称作事件（Events），它们都包含了观察者模型（Observer Des…

[Unity自学] DevLog 1: Week 3&4, June 2020
 2020年6月21日 默认分类  0条评论 576次阅读  0人点赞  xinyu
June 20, 2020: 第一次接触到了Lighting system，光污染似的加了好多hhh 改进了一下操纵火箭的旋转和助推代码，加上加速度和减速度。如此一来操作手感好了一点。Unity建模能力十分差，甚至造不出…

[Unity 2D Platform] 让人物移动拥有精确加速度和减速度的代码
 2020年6月20日 技术  0条评论 499次阅读  0人点赞  xinyu
GMTK总结的Celeste速度曲线（黄线） 在寻找和探索了许久之后我终于发现了接近完美的代码。在改进了这里的代码之后，以下的代码便可以指定人物的加速度和减速度以及最高速度，从而实现对速度曲线的控制。"It just w…

[Unity自学] Tile Vania: The Runner (2D platform)
 2020年6月19日 游戏  0条评论 560次阅读  0人点赞  xinyu
Tile Vania: The Runner 是一个快节奏的跑酷游戏。主角行动灵敏和迅速，他为了证明自己是最快的跑者踏上了试炼之路。欢迎在我的服务器上留下你们的名字和新的记录！ 做这款小游戏花了比预想的要就得多的时间。依…

[Unity 2D Platform] 如何用Unity的原生物理系统实现更好的跳跃手感？
 2020年6月17日 技术  0条评论 714次阅读  0人点赞  xinyu
看到GMTK总结Celeste跳跃手感如何优秀以后，我突然意识到虽然几行代码可以实现跳跃效果，但是操作手感缺实在稀烂。于是我找到了这篇文章，然后用几种方法实现了它们（肯定也有更好的方法）。Unity原生的物理系统虽然很难…

[课程项目] 深度学习： 由诊断结论生成正側面胸部CT/X光图像
 2020年6月16日 项目  0条评论 516次阅读  0人点赞  xinyu
摘要：这是一个深度学习的课程项目。我们用医生的X光胸片报告作为输入，最终输出高分辨率(256*256)的正側面X光胸片图。网络中多层conditional GAN的结构可以帮助我们依次获得更高分辨率的胸片图。结构主要包括…

[课程项目] ML模型预测steam平台游戏销量
 2020年6月11日 项目  0条评论 541次阅读  0人点赞  xinyu
想知道一份游戏在steam上能卖出多少份么？想知道有哪几款游戏和我想要的一样么？点击这里查看我的课程项目介绍和部署到线上的模型吧。

[Unity自学] 更复杂的程序+数值策划：Glitch Garden
 2020年5月26日 游戏  0条评论 691次阅读  0人点赞  xinyu
依旧是自己主程序+主策划，这次竟然有两关了！而且还有那激动人心的boss战！来用Gnomes筑起钢铁长城吧。虽然依旧是Udemy课程引领下做的项目，但我成功加进去了一些自己的心思，实现了关卡出怪的模块化和精确设计。毕竟哪…

1
2
>
»

© 2021 鱼之家. All Rights Reserved. | 已在风雨中度过 Loading...
Theme Kratos-pjax Made by Moedog Modifying by Xinyu himself | Sitemap
---
# about
数据分析/管理；机器学习；Programmer

文章分类
Shaders (1)
技术 (4)
游戏 (3)
项目 (2)
默认分类 (2)
Xinyu是谁？
我是一名毕业后正在努力成为程序员的人。

UCSD2020届的国际关系硕士。

可我渐渐发现，代码是才我的真爱(当然还有我的家人，朋友，和Yu)！从大四的C语言基础开始，我陆续补完了计算机本科的专业课。目前这个小站和邮箱服务就是我一点点host起来的。研究生阶段老老实实地在课堂上学完了线性代数、概率论、机器学习，推导和手撸了很多机器学习模型，以应用torch收尾。

技术栈：

Python (pytorch, numpy, pandas)； 后端(LAMP)，因为上次实习的所学自考了MySQL OCP；略懂前端 (jQuery, html/css)；C/C++；计算机网络基础等

中英法三语；计量经济学模型(面板数据，时序分析)；ArcGIS

目前在自学 Unity，希望早日当上游戏程序员


喜欢“It Just works”的畅快感；
喜欢代码不会撒谎的踏实感；
喜欢钻研一个问题不放，
最终在documentation和源码中找到归宿。
-----
# blog
<div id="kratos-wrapper">
            <div id="kratos-page">
                <div id="kratos-header">
                                        <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                                        <header id="kratos-header-section">
                        <div class="container">
                            <div class="nav-header">
                                                                <nav id="kratos-menu-wrap" class="menu-menu-1-container"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/">首页</a></li>
<li><a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/about-xinyu/">关于Xinyu</a></li>
</ul></nav>                            </div>
                        </div>
                    </header>
                </div>
                                <div class="kratos-start kratos-hero-2">
                    <div class="kratos-overlay"></div>
                    <div class="kratos-cover kratos-cover_2 text-center">
                        <div class="desc desc2 animate-box">
                            <a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/"><h2></h2><br><span></span></a>
                        </div>
                    </div>
                </div>
                                <div id="kratos-blog-post">    <div id="container" class="container">
        <div class="row">
        <aside id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm scrollspy">
    <div id="sidebar" class="affix-top">
        <aside id="kratos_about-2" class="widget widget_kratos_about clearfix">        <div class="photo-background">
            <div class="photo-background" style="background:url(https://web.archive.org/web/20210302084841im_/https://fishesplace.com/pics/self_intro_bg.png) no-repeat center center;-webkit-background-size:cover;background-size:cover"></div>
        </div>
                <div class="photo-wrapper clearfix">
            <div class="photo-wrapper-tip text-center">
                <a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/wp-login.php?redirect_to=https%3A%2F%2Ffishesplace.com%2F2020%2F10%2F02%2Fenumplayercontroller%2F" rel="nofollow"><img class="about-photo" src="https://web.archive.org/web/20210302084841im_/https://fishesplace.com/pics/self_intro_icon.png" alt=""></a>
            </div>
        </div>
        <div class="textwidget">
            <p class="text-center">数据分析/管理；机器学习；Programmer</p>
        </div></aside><aside id="categories-6" class="widget widget_categories clearfix"><h4 class="widget-title">文章分类</h4>		<ul>
				<li class="cat-item cat-item-7"><a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/category/shaders/">Shaders</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/category/tech/">技术</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/category/%e6%b8%b8%e6%88%8f/">游戏</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/category/project/">项目</a> (2)
</li>
	<li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/category/uncategorized/">默认分类</a> (2)
</li>
		</ul>
			</aside>    </div>
</aside>
<section id="main" class="col-md-8">
        <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">[Unity] 摆脱Mecanim Animation里的“毛线团”：使用Enum来管理人物状态和动画系统</h1>
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020年10月2日                    <i class="fa fa-commenting-o"></i> 0条评论                    <i class="fa fa-eye"></i> 550次阅读  
                    <span class="hd">
                    <i class="fa fa-thumbs-o-up"></i> 0人点赞                    <i class="fa fa-user"></i> xinyu                    </span>
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
            <blockquote><p>使用Enum来管理人物状态的好处有：</p>
<ol>
<li>完美替代 Unity Mecanim 的状态转换问题。避免Animator看起来像一团纠结在一起的毛线团</li>
<li>利用 [Flags] 的 Attribute可以方便的解决同时有两个或以上状态的问题</li>
<li>利用当前的任务状态Property来改变动画，实现动画渲染和实际控制代码的解耦</li>
<li>TODO: 当有多层Layer来表示动画的时候，可以创建多种状态Enum；许多常见的机制还没有写进去，如二段跳、coyote jump等</li>
</ol>
</blockquote>
<p></p><center><img src="https://web.archive.org/web/20210302084841im_/https://fishesplace.com/wp-content/uploads/2020/10/EnumPlayerStatus.png" width="450"></center><p></p>
<p>图1： MegaMan示例和Animator的简单结构，例子来源：<a href="https://web.archive.org/web/20210302084841/https://www.youtube.com/watch?v=nBkiSJ5z-hE&amp;t=302s&amp;ab_channel=LostRelicGames" target="_blank" rel="nofollow">这里</a>。</p>
<hr>
<p>这是一个不难解决却困扰了我很久的问题。直到最近看《游戏编程模式》这本书里阐述了类似的情景。附上自己写的还算比较满意的代码，输入上也实现了更新状态和输入分离。Bitwise基本操作的参考说明见<a href="https://web.archive.org/web/20210302084841/https://www.alanzucconi.com/2015/07/26/enum-flags-and-bitwise-operators/" target="_blank" rel="nofollow">Alan Zucconi</a>。</p>
<pre><code>using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.InputSystem;

public class PlayerContrllerEnum : MonoBehaviour
{
    [SerializeField] private float horizontalSpeed = 10f;
    public float HorizontalSpeed { get { return horizontalSpeed; } private set { horizontalSpeed = value; } }
    [SerializeField] [Range(0, 10f)] private float jumpForce = 8f;
    public float JumpForce { get { return jumpForce; } private set { jumpForce = value; } }
    [SerializeField] private float attackGap = 0.2f;
    public float AttackGap { get { return attackGap; } private set { attackGap = value; } }

    [SerializeField] private float horizontalInput = 0f;
    public float HorizontalInput { get { return horizontalInput; } private set { horizontalInput = value; } }
    [SerializeField] private bool isJumpPressed = false;
    public bool IsJumpPressed { get { return isJumpPressed; } private set { isJumpPressed = value; } }
    [SerializeField] bool isOnGround = true;
    public bool IsOnGround { get { return isOnGround; } private set { isOnGround = value; } }
    [SerializeField] private bool isShootPressed = false;
    public bool IsShootPressed { get { return isShootPressed; } private set { isShootPressed = value; } }
    [SerializeField] private bool isAbleToShoot = true;
    [SerializeField] private float shootGapCountDown;
    public int GroundMask { get; set; } = 0;

    [SerializeField] private Rigidbody2D myRigidBody;

    [SerializeField] Animator animator;
    private PlayerInput _playerInput { get; set; }
    private string MovementActionsName { get; } = "Movement";
    private string JumpActionName { get; } = "Jump";
    private string ShootActionName { get; } = "Shoot";

    #region Animation Names
    private string PlayerIdlingAnimString { get; } = "Player_idle";
    private string PlayerMovingAnimString { get; } = "Player_run";
    private string PlayerJumpingAnimString { get; } = "Player_jump";
    private string PlayerAttackAnimString { get; } = "Player_attack";
    private string PlayerAirAttackAnimString { get; } = "Player_air_attack";
    #endregion

    [Flags]
    public enum PlayerStatus 
    {
        None = 0,
        Idling = 1&lt;&lt;0,
        Moving = 1&lt;&lt;1,
        Jumping = 1&lt;&lt;2,
        Attacking = 1&lt;&lt;3,
    }

    private PlayerStatus currentStatus = PlayerStatus.Idling;
    public PlayerStatus CurrentStatus { get { return currentStatus; }
        set 
        {
            if(value != currentStatus &amp;&amp; value!=PlayerStatus.None)
            {
                if(!isAbleToShoot &amp;&amp; !value.HasFlag(PlayerStatus.Attacking)) return; // keep shooting anim when it's still in cool down
                if(value == PlayerStatus.Idling)
                {
                    ChangeAnimationStateTo(PlayerIdlingAnimString);
                }
                else if(value == PlayerStatus.Moving)
                {
                    ChangeAnimationStateTo(PlayerMovingAnimString);
                }
                else if(value== PlayerStatus.Attacking)
                {
                    ChangeAnimationStateTo(PlayerAttackAnimString);
                }
                else if(value == (PlayerStatus.Attacking | PlayerStatus.Jumping))
                {
                    ChangeAnimationStateTo(PlayerAirAttackAnimString);
                }
                else if(value== PlayerStatus.Jumping)
                {
                    ChangeAnimationStateTo(PlayerJumpingAnimString);
                }
                currentStatus = value;
            }
        }
    }

    void ChangeAnimationStateTo(string newAnimation)
    {
        animator.Play(newAnimation);
    }

    // Start is called before the first frame update
    void Start()
    {
        _playerInput = GetComponent&lt;PlayerInput&gt;();
        animator = GetComponent&lt;Animator&gt;();
        currentStatus = PlayerStatus.Idling;
        GroundMask = LayerMask.GetMask("Ground");
        myRigidBody = GetComponent&lt;Rigidbody2D&gt;();

    }

    // Update is called once per frame
    void Update()
    {
        HorizontalInput = _playerInput.actions[MovementActionsName].ReadValue&lt;Vector2&gt;().x;
        IsJumpPressed = _playerInput.actions[JumpActionName].triggered;
        IsShootPressed = _playerInput.actions[ShootActionName].triggered;

    }

    private void FixedUpdate()
    {
        CheckIfIsOnGround();
        FixedUpdateAttackGap();

        PlayerStatus statusInferred = PlayerStatus.Idling;
        if(Mathf.Abs(HorizontalInput) &gt; 0.01)
        {
            Move(HorizontalInput*HorizontalSpeed);
            statusInferred = PlayerStatus.Moving;
        }
        if(!IsOnGround)
        {
            statusInferred = PlayerStatus.Jumping;
        }
        if(IsJumpPressed &amp;&amp; IsOnGround)
        {
            IsJumpPressed = false;
            Jump();
            statusInferred = PlayerStatus.Jumping;
        }

        if(IsShootPressed &amp;&amp; isAbleToShoot)
        {
            IsShootPressed = false;
            ShootABullet();
            statusInferred &amp;= ~PlayerStatus.Idling;
            statusInferred &amp;= ~PlayerStatus.Moving; 
            statusInferred |= PlayerStatus.Attacking;
        }
        CurrentStatus = statusInferred;
    }

    public void Move(float inputValue)
    {
        // method: set velocity directly

        Vector2 currentVelocity = myRigidBody.velocity;
        //flip if necessary
        Vector3 localScale = transform.localScale;
        if(Mathf.Sign(localScale.x) != Mathf.Sign(inputValue))
        {
            localScale.x = -localScale.x;
            transform.localScale = localScale;
        }
        currentVelocity.x = inputValue;
        myRigidBody.velocity = currentVelocity;
    }

    public void Jump()
    {
        myRigidBody.AddForce(new Vector2(0, JumpForce), ForceMode2D.Impulse);
    }

    public void ShootABullet()
    {
        isAbleToShoot = false;
        shootGapCountDown = AttackGap;
        //TODO
        Debug.Log("A bullet is shot");
    }

    private void FixedUpdateAttackGap()
    {
        if(!isAbleToShoot)
        {
            shootGapCountDown -= Time.fixedDeltaTime;
            if(shootGapCountDown &lt;= 0)
                isAbleToShoot = true;
        }
    }

    private void CheckIfIsOnGround()
    {
        RaycastHit2D hit = Physics2D.Raycast(transform.position, Vector2.down, 0.1f, GroundMask);
        if(hit.collider != null)
        {
            IsOnGround = true;
        }
        else
            IsOnGround = false;
    }
}
</code></pre>
            </div>
                        <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://web.archive.org/web/20210302084841/http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
                        <footer class="kratos-entry-footer clearfix">
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                                   <a href="javascript:;" id="btn" data-action="love" data-id="123" class="Love"><i class="fa fa-thumbs-o-up"></i> 点赞</a>
                <a href="javascript:;" class="Share"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain twitter" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode"><img src="https://web.archive.org/web/20210302084841im_/https://api.fczbl.vip/qr/?m=0&amp;url=https://fishesplace.com/2020/10/02/enumplayercontroller/" width="150" height="150"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
    </div>
    <script type="text/javascript">
    function share(obj){
        var qqShareURL="https://web.archive.org/web/20210302084841/http://connect.qq.com/widget/shareqq/index.html?";
        var weiboShareURL="https://web.archive.org/web/20210302084841/http://service.weibo.com/share/share.php?";
        var qzoneShareURL="https://web.archive.org/web/20210302084841/https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
        var facebookShareURL="https://web.archive.org/web/20210302084841/https://www.facebook.com/sharer/sharer.php?";
        var twitterShareURL="https://web.archive.org/web/20210302084841/https://twitter.com/intent/tweet?";
        var host_url="https://web.archive.org/web/20210302084841/https://fishesplace.com/2020/10/02/enumplayercontroller/";
        var title='%E3%80%90%5BUnity%5D%20%E6%91%86%E8%84%B1Mecanim%20Animation%E9%87%8C%E7%9A%84%E2%80%9C%E6%AF%9B%E7%BA%BF%E5%9B%A2%E2%80%9D%EF%BC%9A%E4%BD%BF%E7%94%A8Enum%E6%9D%A5%E7%AE%A1%E7%90%86%E4%BA%BA%E7%89%A9%E7%8A%B6%E6%80%81%E5%92%8C%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F%E3%80%91';
        var qqtitle='%E3%80%90%5BUnity%5D%20%E6%91%86%E8%84%B1Mecanim%20Animation%E9%87%8C%E7%9A%84%E2%80%9C%E6%AF%9B%E7%BA%BF%E5%9B%A2%E2%80%9D%EF%BC%9A%E4%BD%BF%E7%94%A8Enum%E6%9D%A5%E7%AE%A1%E7%90%86%E4%BA%BA%E7%89%A9%E7%8A%B6%E6%80%81%E5%92%8C%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F%E3%80%91';
        var excerpt='%E4%BD%BF%E7%94%A8Enum%E6%9D%A5%E7%AE%A1%E7%90%86%E4%BA%BA%E7%89%A9%E7%8A%B6%E6%80%81%E7%9A%84%E5%A5%BD%E5%A4%84%E6%9C%89%EF%BC%9A%20%E5%AE%8C%E7%BE%8E%E6%9B%BF%E4%BB%A3%20Unity%20Mecanim%20%E7%9A%84%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E9%97%AE%E9%A2%98%E3%80%82%E9%81%BF%E5%85%8DAnimator%E7%9C%8B%E8%B5%B7%E6%9D%A5%E5%83%8F%E4%B8%80%E5%9B%A2%E7%BA%A0%E7%BB%93%E5%9C%A8%E4%B8%80%E8%B5%B7%E7%9A%84%E6%AF%9B%E7%BA%BF%E5%9B%A2%20%E5%88%A9%E7%94%A8%20%5BFlags%5D%20%E7%9A%84%20Attribute%E5%8F%AF%E4%BB%A5%E6%96%B9%E4%BE%BF%E7%9A%84%E8%A7%A3%E5%86%B3%E5%90%8C%E6%97%B6%E6%9C%89%E4%B8%A4%E4%B8%AA%E6%88%96%E4%BB%A5%E4%B8%8A%E7%8A%B6%E6%80%81%E7%9A%84%E9%97%AE%E9%A2%98%20%E5%88%A9%E7%94%A8%E5%BD%93%E5%89%8D%E7%9A%84%E4%BB%BB%E5%8A%A1%E7%8A%B6%E6%80%81Property%E6%9D%A5%E6%94%B9%E5%8F%98%E5%8A%A8%E7%94%BB%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%8A%A8%E7%94%BB%E6%B8%B2%E6%9F%93%E5%92%8C%E5%AE%9E%E9%99%85%E6%8E%A7%E5%88%B6%E4%BB%A3%E7%A0%81%E7%9A%84%E8%A7%A3%E8%80%A6%20TODO%3A%20%E5%BD%93%E6%9C%89%E5%A4%9A%E5%B1%82Layer%E2%80%A6%E2%80%A6';
        var wbexcerpt='%E4%BD%BF%E7%94%A8Enum%E6%9D%A5%E7%AE%A1%E7%90%86%E4%BA%BA%E7%89%A9%E7%8A%B6%E6%80%81%E7%9A%84%E5%A5%BD%E5%A4%84%E6%9C%89%EF%BC%9A%20%E5%AE%8C%E7%BE%8E%E6%9B%BF%E4%BB%A3%20Unity%20Mecanim%20%E7%9A%84%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E9%97%AE%E9%A2%98%E3%80%82%E9%81%BF%E5%85%8DAnimator%E7%9C%8B%E8%B5%B7%E6%9D%A5%E5%83%8F%E4%B8%80%E5%9B%A2%E7%BA%A0%E7%BB%93%E5%9C%A8%E4%B8%80%E8%B5%B7%E7%9A%84%E6%AF%9B%E7%BA%BF%E5%9B%A2%20%E5%88%A9%E7%94%A8%20%5BFlags%5D%20%E7%9A%84%20Attribute%E5%8F%AF%E4%BB%A5%E6%96%B9%E4%BE%BF%E7%9A%84%E8%A7%A3%E5%86%B3%E5%90%8C%E6%97%B6%E6%9C%89%E4%B8%A4%E4%B8%AA%E6%88%96%E4%BB%A5%E4%B8%8A%E7%8A%B6%E6%80%81%E7%9A%84%E9%97%AE%E9%A2%98%20%E5%88%A9%E7%94%A8%E5%BD%93%E5%89%8D%E7%9A%84%E4%BB%BB%E5%8A%A1%E7%8A%B6%E6%80%81Property%E6%9D%A5%E6%94%B9%E5%8F%98%E5%8A%A8%E7%94%BB%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%8A%A8%E7%94%BB%E6%B8%B2%E6%9F%93%E5%92%8C%E5%AE%9E%E9%99%85%E6%8E%A7%E5%88%B6%E4%BB%A3%E7%A0%81%E7%9A%84%E8%A7%A3%E8%80%A6%20TODO%3A%20%E5%BD%93%E6%9C%89%E5%A4%9A%E5%B1%82Layer%E2%80%A6%E2%80%A6';
        var pic="https://web.archive.org/web/20210302084841/https://fishesplace.com/wp-content/uploads/2020/10/EnumPlayerStatus.png";
        var _URL;
        if(obj=="qq"){
            _URL=qqShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="weibo"){
            _URL=weiboShareURL+"url="+host_url+"&title="+title+wbexcerpt+"&pic="+pic;
        }else if(obj=="qzone"){
            _URL=qzoneShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="facebook"){
             _URL=facebookShareURL+"u="+host_url;
        }else if(obj=="twitter"){
             _URL=twitterShareURL+"text="+title+excerpt+"&url="+host_url;
        }
        window.open(_URL);
    }
    </script>
</div>                </div>
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                    <a>No Tag</a>                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020年10月2日</span>
                    </div>
                </div>
            </footer>
        </div>
        <nav class="navigation post-navigation clearfix" role="navigation">
                        <div class="nav-previous clearfix">
                <a title="[ShaderLab] 让物体光面始终朝向观察者的Lighting Model" href="https://web.archive.org/web/20210302084841/https://fishesplace.com/2020/08/12/shaderlab-shader1/">&lt; 上一篇</a>
            </div>
                    </nav>
        <div id="comments" class="comments-area">
    <ol class="comment-list">
    </ol>	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/web/20210302084841/https://fishesplace.com/2020/10/02/enumplayercontroller/#respond" style="display:none;">取消回复</a></small></h4><form action="https://web.archive.org/web/20210302084841/https://fishesplace.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">电子邮件地址不会被公开。必填项已用 * 标注</p><div class="comment form-group has-feedback"><div class="input-group"><textarea class="form-control" id="comment" placeholder="鼓励一下还在国外没有工作的Xinyu吧|´・ω・)~" name="comment" rows="5" aria-required="true" required="" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById('submit').click();return false}};"></textarea></div><div class="OwO"></div></div><div class="comment-form-author form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-user"></i></div><input class="form-control" placeholder="昵称" id="author" name="author" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-email form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input class="form-control" placeholder="邮箱" id="email" name="email" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-key"></i></div><input class="form-control" placeholder="人机验证：2 ＋ 8 = ?" id="code" name="code" type="text" value="" autocomplete="off" size="30"><span class="form-control-feedback required">*</span><input type="hidden" name="co_num1" value="3"><input type="hidden" name="co_num2" value="10"></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-link"></i></div><input class="form-control" placeholder="网站" id="url" name="url" type="text" value="" size="30"></div></div>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-primary" value="发表评论"> <input type="hidden" name="comment_post_ID" value="123" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	</div>    </article>
    </section>
        </div>    </div>
</div>
                <footer>
                    <div id="footer" style="background:rgba(35,40,45,0.4)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                                    <p class="kratos-social-icons"><a target="_blank" rel="nofollow" href="https://web.archive.org/web/20210302084841/mailto:xinyu@fishesplace.com"><i class="fa fa-envelope"></i></a>                                    </p>
                                    <p> © 2021 <a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/">鱼之家</a>. All Rights Reserved. | 已在风雨中度过 <span id="span_dt_dt">Loading...</span><br>Theme <a href="https://web.archive.org/web/20210302084841/https://moedog.org/" target="_blank" rel="nofollow">Kratos-pjax Made by Moedog</a> Modifying by Xinyu himself | <a href="https://web.archive.org/web/20210302084841/https://fishesplace.com/sitemap.html" target="_blank">Sitemap</a>                                                                        </p>
                                </div>
                            </div>
                        </div>
                        <div class="cd-tool text-center">
                                                        <div class="gotop-box"><div class="gotop-btn"><span class="fa fa-chevron-up"></span></div></div>
                                                        <div class="search-box">
                                <span class="fa fa-search"></span>
                                <form class="search-form" role="search" method="get" id="searchform" action="https://web.archive.org/web/20210302084841/https://fishesplace.com/">
                                    <input type="text" name="s" id="search" placeholder="Search..." style="display:none">
                                </form>
                            </div>
                        </div>
                                            </div>
                </footer>
            </div>
        </div>
---
<div id="kratos-wrapper">
            <div id="kratos-page">
                <div id="kratos-header">
                                        <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                                        <header id="kratos-header-section">
                        <div class="container">
                            <div class="nav-header">
                                                                <nav id="kratos-menu-wrap" class="menu-menu-1-container"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/">首页</a></li>
<li><a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/about-xinyu/">关于Xinyu</a></li>
</ul></nav>                            </div>
                        </div>
                    </header>
                </div>
                                <div class="kratos-start kratos-hero-2">
                    <div class="kratos-overlay"></div>
                    <div class="kratos-cover kratos-cover_2 text-center">
                        <div class="desc desc2 animate-box">
                            <a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/"><h2></h2><br><span></span></a>
                        </div>
                    </div>
                </div>
                                <div id="kratos-blog-post">    <div id="container" class="container">
        <div class="row">
        <aside id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm scrollspy">
    <div id="sidebar" class="affix-top">
        <aside id="kratos_about-2" class="widget widget_kratos_about clearfix">        <div class="photo-background">
            <div class="photo-background" style="background:url(https://web.archive.org/web/20210302075253im_/https://fishesplace.com/pics/self_intro_bg.png) no-repeat center center;-webkit-background-size:cover;background-size:cover"></div>
        </div>
                <div class="photo-wrapper clearfix">
            <div class="photo-wrapper-tip text-center">
                <a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/wp-login.php?redirect_to=https%3A%2F%2Ffishesplace.com%2F2020%2F08%2F12%2Fshaderlab-shader1%2F" rel="nofollow"><img class="about-photo" src="https://web.archive.org/web/20210302075253im_/https://fishesplace.com/pics/self_intro_icon.png" alt=""></a>
            </div>
        </div>
        <div class="textwidget">
            <p class="text-center">数据分析/管理；机器学习；Programmer</p>
        </div></aside><aside id="categories-6" class="widget widget_categories clearfix"><h4 class="widget-title">文章分类</h4>		<ul>
				<li class="cat-item cat-item-7"><a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/category/shaders/">Shaders</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/category/tech/">技术</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/category/%e6%b8%b8%e6%88%8f/">游戏</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/category/project/">项目</a> (2)
</li>
	<li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/category/uncategorized/">默认分类</a> (2)
</li>
		</ul>
			</aside>    </div>
</aside>
<section id="main" class="col-md-8">
        <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">[ShaderLab] 让物体光面始终朝向观察者的Lighting Model</h1>
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020年8月12日                    <i class="fa fa-commenting-o"></i> 0条评论                    <i class="fa fa-eye"></i> 566次阅读  
                    <span class="hd">
                    <i class="fa fa-thumbs-o-up"></i> 1人点赞                    <i class="fa fa-user"></i> xinyu                    </span>
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
            
<center><img class="wp-image-109" style="width: 200px;" src="https://web.archive.org/web/20210302075253im_/https://fishesplace.com/wp-content/uploads/2020/08/ZomBunnyFacingMe.gif" alt="ZomBunnyFacingMe"><div>亮处永远朝向观众，不受环境光影响是有点诡异哦</div></center>



<p>最近即将上架自己的游戏，却在临门一脚没有推进它的动力。明明只差音效了，加油啊！</p>



<p>所以分散注意力学习一下Unity里面如何用Cg写Shader。虽然以后URP可以用Shader Graph，但是学习一丢丢原理总是好的。所以开一个分类记录几个学来的骚气Shaders。</p>



<p>回归主题，让物体光面朝向自己需要魔改一下Unity内Surface Shader的Lighting Model。核心是让Normal和ViewDir点积，这样越是正面朝向观察者亮度越高即可。下面的Shader用了Ramp Map来实现效果：</p>


<pre class="brush: cpp; highlight: [42,43,44,45,46,47,48,49,50,51,52]; title: ; notranslate" title="">0Shader "Custom/MyRamp"
{
    Properties
    {
        _Color ("Color", Color) = (1,1,1,1)
        _MainTex ("Albedo (RGB)", 2D) = "white" {}
        _RampTex("Ramp Texture",2D) = "white"{}
    }
    SubShader
    {
        Tags { "RenderType"="Opaque" }
        LOD 200

        CGPROGRAM
        // Physically based Standard lighting model, and enable shadows on all light types
        #pragma surface surf ToonRamp

        // Use shader model 3.0 target, to get nicer looking lighting
        #pragma target 3.0

        sampler2D _MainTex;
        sampler2D _RampTex;

        struct Input
        {
            float2 uv_MainTex;
            float3 viewDir;
        };

        fixed4 _Color;


        // Add instancing support for this shader. You need to check 'Enable Instancing' on materials that use the shader.
        // See https://docs.unity3d.com/Manual/GPUInstancing.html for more information about instancing.
        // #pragma instancing_options assumeuniformscaling
        UNITY_INSTANCING_BUFFER_START(Props)
            // put more per-instance properties here
        UNITY_INSTANCING_BUFFER_END(Props)

        float4 LightingToonRamp(SurfaceOutput o, half3 lightDir, half3 viewDir, half atten)
        {
            float diff = dot(o.Normal, viewDir); // -1, 1
            float h = diff * 0.5 + 0.5; // 0,1
            // smoothstep
            h = smoothstep(0, 1, h);
            float2 rh = h;
            float3 ramp = tex2D(_RampTex, rh).rgb; // mapping to ramp map at diagonal

            float4 c;
            c.rgb = o.Albedo * _LightColor0.rgb * ramp;
            c.a = o.Alpha;
            return c;
        }

        void surf (Input IN, inout SurfaceOutput o)
        {
            //// Albedo comes from a texture tinted by color
            //fixed4 c = tex2D (_MainTex, IN.uv_MainTex) * _Color;
            //o.Albedo = c.rgb;
            
            //// also use ramptex for albedo
            //float NdotV = dot(o.Normal, IN.viewDir);
            //float h = NdotV * 0.5 + 0.5;
            ////// smoothstep
            ////h = smoothstep(0, 1, h);
            //float2 rh = h;
            //fixed4 c = tex2D(_RampTex,rh) * _Color;

            fixed4 c = tex2D(_MainTex, IN.uv_MainTex) * _Color;
            o.Albedo = c;
            o.Alpha = c.a;
        }
        ENDCG
    }
    FallBack "Diffuse"
}

</pre>


<center><img class="wp-image-111" style="width: 200px;" src="https://web.archive.org/web/20210302075253im_/https://fishesplace.com/wp-content/uploads/2020/08/ZomBunnyFacingMe2.gif" alt="ZomBunnyFacingMe2"><div>加上Blinn-Phong Reflection以后更加亮瞎</div></center>


<pre class="brush: cpp; highlight: [17,18,19,20,21,22,23,24,25,26,27,28,29,30]; title: ; notranslate" title="">        float4 LightingMyBlinnPhong(SurfaceOutput o, half3 lightDir, half3 viewDir, half atten)
        {
            //// blinn phong reflection model with a halfway vector

            //half3 h = normalize(lightDir + viewDir); // a halfway vector
            //half diff = max(0, dot(o.Normal, lightDir));

            //half nh = max(0, dot(o.Normal, h));
            //half spec = pow(nh, 48);

            //half4 c;
            //c.rgb = (o.Albedo * _LightColor0.rgb * diff + _LightColor0.rgb * spec) * atten ;
            //c.a = o.Alpha;
            //return c;

// my twisted reflection function
            half NdotV = dot(o.Normal, viewDir);// -1, 1
            float h = NdotV * 0.5 + 0.5;
            // smoothstep
            h = smoothstep(0, 1, h);
            float2 rh = h;
            float3 ramp = tex2D(_RampTex, rh).rgb; // mapping to ramp map at diagnol


            half diff = max(0, NdotV);
            half spec = pow(diff,48);
            half4 c;
            c.rgb = (o.Albedo * _LightColor0.rgb * diff + _LightColor0.rgb * spec) * atten * ramp;
            c.a = o.Alpha;
            return c;

        }
</pre>            </div>
                        <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://web.archive.org/web/20210302075253/http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
                        <footer class="kratos-entry-footer clearfix">
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                                   <a href="javascript:;" id="btn" data-action="love" data-id="108" class="Love"><i class="fa fa-thumbs-o-up"></i> 点赞</a>
                <a href="javascript:;" class="Share"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain twitter" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode"><img src="https://web.archive.org/web/20210302075253im_/https://api.fczbl.vip/qr/?m=0&amp;url=https://fishesplace.com/2020/08/12/shaderlab-shader1/" width="150" height="150"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
    </div>
    <script type="text/javascript">
    function share(obj){
        var qqShareURL="https://web.archive.org/web/20210302075253/http://connect.qq.com/widget/shareqq/index.html?";
        var weiboShareURL="https://web.archive.org/web/20210302075253/http://service.weibo.com/share/share.php?";
        var qzoneShareURL="https://web.archive.org/web/20210302075253/https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
        var facebookShareURL="https://web.archive.org/web/20210302075253/https://www.facebook.com/sharer/sharer.php?";
        var twitterShareURL="https://web.archive.org/web/20210302075253/https://twitter.com/intent/tweet?";
        var host_url="https://web.archive.org/web/20210302075253/https://fishesplace.com/2020/08/12/shaderlab-shader1/";
        var title='%E3%80%90%5BShaderLab%5D%20%E8%AE%A9%E7%89%A9%E4%BD%93%E5%85%89%E9%9D%A2%E5%A7%8B%E7%BB%88%E6%9C%9D%E5%90%91%E8%A7%82%E5%AF%9F%E8%80%85%E7%9A%84Lighting%20Model%E3%80%91';
        var qqtitle='%E3%80%90%5BShaderLab%5D%20%E8%AE%A9%E7%89%A9%E4%BD%93%E5%85%89%E9%9D%A2%E5%A7%8B%E7%BB%88%E6%9C%9D%E5%90%91%E8%A7%82%E5%AF%9F%E8%80%85%E7%9A%84Lighting%20Model%E3%80%91';
        var excerpt='%E4%B8%80%E4%B8%AA%E5%85%89%E9%9D%A2%E5%A7%8B%E7%BB%88%E6%9C%9D%E5%90%91%E8%A7%82%E5%AF%9F%E8%80%85%E7%9A%84Lighting%20Model';
        var wbexcerpt='%E4%B8%80%E4%B8%AA%E5%85%89%E9%9D%A2%E5%A7%8B%E7%BB%88%E6%9C%9D%E5%90%91%E8%A7%82%E5%AF%9F%E8%80%85%E7%9A%84Lighting%20Model';
        var pic="https://web.archive.org/web/20210302075253/https://fishesplace.com/wp-content/uploads/2020/08/ZomBunnyFacingMe.gif";
        var _URL;
        if(obj=="qq"){
            _URL=qqShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="weibo"){
            _URL=weiboShareURL+"url="+host_url+"&title="+title+wbexcerpt+"&pic="+pic;
        }else if(obj=="qzone"){
            _URL=qzoneShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="facebook"){
             _URL=facebookShareURL+"u="+host_url;
        }else if(obj=="twitter"){
             _URL=twitterShareURL+"text="+title+excerpt+"&url="+host_url;
        }
        window.open(_URL);
    }
    </script>
</div>                </div>
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                    <a>No Tag</a>                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020年8月12日</span>
                    </div>
                </div>
            </footer>
        </div>
        <nav class="navigation post-navigation clearfix" role="navigation">
                        <div class="nav-previous clearfix">
                <a title="[Unity] 什么是c#事件？如何用EventHandler或Action或UnityEvent实现它的功能？" href="https://web.archive.org/web/20210302075253/https://fishesplace.com/2020/07/02/what-event-is/">&lt; 上一篇</a>
            </div>
                        <div class="nav-next">
                <a title="[Unity] 摆脱Mecanim Animation里的“毛线团”：使用Enum来管理人物状态和动画系统" href="https://web.archive.org/web/20210302075253/https://fishesplace.com/2020/10/02/enumplayercontroller/">下一篇 &gt;</a>
            </div>
                    </nav>
        <div id="comments" class="comments-area">
    <ol class="comment-list">
    </ol>	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/web/20210302075253/https://fishesplace.com/2020/08/12/shaderlab-shader1/#respond" style="display:none;">取消回复</a></small></h4><form action="https://web.archive.org/web/20210302075253/https://fishesplace.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">电子邮件地址不会被公开。必填项已用 * 标注</p><div class="comment form-group has-feedback"><div class="input-group"><textarea class="form-control" id="comment" placeholder="鼓励一下还在国外没有工作的Xinyu吧|´・ω・)~" name="comment" rows="5" aria-required="true" required="" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById('submit').click();return false}};"></textarea></div><div class="OwO"></div></div><div class="comment-form-author form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-user"></i></div><input class="form-control" placeholder="昵称" id="author" name="author" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-email form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input class="form-control" placeholder="邮箱" id="email" name="email" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-key"></i></div><input class="form-control" placeholder="人机验证：3 ＋ 4 = ?" id="code" name="code" type="text" value="" autocomplete="off" size="30"><span class="form-control-feedback required">*</span><input type="hidden" name="co_num1" value="4"><input type="hidden" name="co_num2" value="6"></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-link"></i></div><input class="form-control" placeholder="网站" id="url" name="url" type="text" value="" size="30"></div></div>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-primary" value="发表评论"> <input type="hidden" name="comment_post_ID" value="108" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	</div>    </article>
    </section>
        </div>    </div>
</div>
                <footer>
                    <div id="footer" style="background:rgba(35,40,45,0.4)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                                    <p class="kratos-social-icons"><a target="_blank" rel="nofollow" href="https://web.archive.org/web/20210302075253/mailto:xinyu@fishesplace.com"><i class="fa fa-envelope"></i></a>                                    </p>
                                    <p> © 2021 <a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/">鱼之家</a>. All Rights Reserved. | 已在风雨中度过 <span id="span_dt_dt">Loading...</span><br>Theme <a href="https://web.archive.org/web/20210302075253/https://moedog.org/" target="_blank" rel="nofollow">Kratos-pjax Made by Moedog</a> Modifying by Xinyu himself | <a href="https://web.archive.org/web/20210302075253/https://fishesplace.com/sitemap.html" target="_blank">Sitemap</a>                                                                        </p>
                                </div>
                            </div>
                        </div>
                        <div class="cd-tool text-center">
                                                        <div class="gotop-box"><div class="gotop-btn"><span class="fa fa-chevron-up"></span></div></div>
                                                        <div class="search-box">
                                <span class="fa fa-search"></span>
                                <form class="search-form" role="search" method="get" id="searchform" action="https://web.archive.org/web/20210302075253/https://fishesplace.com/">
                                    <input type="text" name="s" id="search" placeholder="Search..." style="display:none">
                                </form>
                            </div>
                        </div>
                                            </div>
                </footer>
            </div>
        </div>
---
<div id="kratos-wrapper">
            <div id="kratos-page">
                <div id="kratos-header">
                                        <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                                        <header id="kratos-header-section">
                        <div class="container">
                            <div class="nav-header">
                                                                <nav id="kratos-menu-wrap" class="menu-menu-1-container"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/">首页</a></li>
<li><a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/about-xinyu/">关于Xinyu</a></li>
</ul></nav>                            </div>
                        </div>
                    </header>
                </div>
                                <div class="kratos-start kratos-hero-2">
                    <div class="kratos-overlay"></div>
                    <div class="kratos-cover kratos-cover_2 text-center">
                        <div class="desc desc2 animate-box">
                            <a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/"><h2></h2><br><span></span></a>
                        </div>
                    </div>
                </div>
                                <div id="kratos-blog-post">    <div id="container" class="container">
        <div class="row">
        <aside id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm scrollspy">
    <div id="sidebar" class="affix-top">
        <aside id="kratos_about-2" class="widget widget_kratos_about clearfix">        <div class="photo-background">
            <div class="photo-background" style="background:url(https://web.archive.org/web/20210302081003im_/https://fishesplace.com/pics/self_intro_bg.png) no-repeat center center;-webkit-background-size:cover;background-size:cover"></div>
        </div>
                <div class="photo-wrapper clearfix">
            <div class="photo-wrapper-tip text-center">
                <a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/wp-login.php?redirect_to=https%3A%2F%2Ffishesplace.com%2F2020%2F07%2F02%2Fwhat-event-is%2F" rel="nofollow"><img class="about-photo" src="https://web.archive.org/web/20210302081003im_/https://fishesplace.com/pics/self_intro_icon.png" alt=""></a>
            </div>
        </div>
        <div class="textwidget">
            <p class="text-center">数据分析/管理；机器学习；Programmer</p>
        </div></aside><aside id="categories-6" class="widget widget_categories clearfix"><h4 class="widget-title">文章分类</h4>		<ul>
				<li class="cat-item cat-item-7"><a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/category/shaders/">Shaders</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/category/tech/">技术</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/category/%e6%b8%b8%e6%88%8f/">游戏</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/category/project/">项目</a> (2)
</li>
	<li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/category/uncategorized/">默认分类</a> (2)
</li>
		</ul>
			</aside>    </div>
</aside>
<section id="main" class="col-md-8">
        <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">[Unity] 什么是c#事件？如何用EventHandler或Action或UnityEvent实现它的功能？</h1>
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020年7月2日                    <i class="fa fa-commenting-o"></i> 0条评论                    <i class="fa fa-eye"></i> 612次阅读  
                    <span class="hd">
                    <i class="fa fa-thumbs-o-up"></i> 0人点赞                    <i class="fa fa-user"></i> xinyu                    </span>
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
            
<center><figure class="wp-block-image size-large is-resized"><img src="https://web.archive.org/web/20210302081003im_/https://fishesplace.com/wp-content/uploads/2020/07/Events.gif" alt="Event Picture" class="wp-image-105" width="360" height="268"></figure><a href="https://web.archive.org/web/20210302081003/https://www.youtube.com/watch?v=gx0Lt4tCDE0" target="_blank" rel="nofollow">"我要过去啦，开门！""请~"</a></center>



<p>微信公众号？个人邮箱？大字报？塔防里面通知每个小兵更改前进路线？下雨了每个NPC和花花草草要做什么？其实这些都可以称作事件（Events），它们都包含了观察者模型（Observer Design Pattern）的思想。</p>



<center><figure class="wp-block-image size-large"><img src="https://web.archive.org/web/20210302081003im_/https://fishesplace.com/wp-content/uploads/2020/07/cache_1593666778_6115.gif" alt="" class="wp-image-106"></figure></center>



<p>什么是c#里面的事件呢？事件就是一个对象（Object）通知了某件事发生了（“我发现外星人攻打地球啦！”）。</p>



<p>其中包含事件的类（<strong>发布器 Publisher</strong>）被我们用来发布事件（联合国报道了我的这条消息），</p>



<p><strong>订阅器（Subscriber）</strong>类接收该事件（千千万万个看新闻的人）。它们就是观察者！</p>



<p>c#里面的事件遵循“观察者”模型/设计范式（<strong>Observer Design Pattern</strong>）。</p>



<p>订阅器之间互不知晓，发布器也不用特别关照某个订阅器，如此一来代码就解耦了。妙啊~</p>



<blockquote class="wp-block-quote"><p>发布器中的事件是由委托定义的对象，符合这个委托声明参数和返回类型的订阅器才可以订阅。本文用来声明事件的<code>EventHandler</code>和<code>Action/Func</code> 本质就是委托/代理（delegate）。以后再开坑。</p></blockquote>



<p>有大体三个方法可以在Unity中完成事件的发布、响应、触发的功能。有请第一组选手，个人最爱的<code>EventHandler</code>（发布器：<code>DoorWayEvent.cs</code>；订阅器：<code>DoorController.cs</code>；触发：<code>DoorTrigger.cs</code>）:</p>


<pre class="brush: plain; title: ; notranslate" title="">///
/// &lt;summary&gt; DoorWayEvent as Publisher
///
using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.Events;

public class DoorWayEvent: MonoBehaviour
{
//开门
    public event EventHandler&lt;DoorEventsArgs&gt; OnEnterDoor;
//关门
    public event EventHandler&lt;DoorEventsArgs&gt; OnDoorLeave;
//单例
    public static DoorWayEvent instance;

    private void Awake()
    {
        if (instance == null)
        {
            instance = this;
            DontDestroyOnLoad(gameObject);
        }
        else
            Destroy(gameObject);
    }
//要开门找我
    public void EnterDoorTrigger(DoorEventsArgs args)
    {
        OnEnterDoor?.Invoke(this, args);
    }
//要关门找我
    public void LeaveDoorTrigger(DoorEventsArgs args)
    {
        OnDoorLeave?.Invoke(this, args);
    }

}
//传参：要开哪个门？
public class DoorEventsArgs : EventArgs
{
    public int id { get; set; }
}

</pre>

<pre class="brush: plain; title: ; notranslate" title="">///
/// &lt;summary&gt; DoorController as Subscriber
///
using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class DoorController : MonoBehaviour
{
    [SerializeField] private int id;
    
    public int ID { get { return id; } set { id = value; } }
    // Start is called before the first frame update
    void Start()
    {
//我订阅啦，有开关门的任何消息就通知我，我知道怎么做。
        DoorWayEvent.instance.OnEnterDoor += OnDoorWayOpen;
        DoorWayEvent.instance.OnDoorLeave += OnDoorWayClose;
    }

//碰到开关门我要这要做...
    private void OnDoorWayOpen(object sender, DoorEventsArgs e)
    {
        //Debug.Log("Trying to Open with id " + e.id);
        //Debug.Log("This Gate with id " + id);
        if (e.id==id)
            LeanTween.moveLocalY(gameObject, transform.position.y+ 2.5f, 1f).setEaseOutQuint();
    }

    private void OnDoorWayClose(object sender, DoorEventsArgs e)
    {
        if(e.id==id)
            LeanTween.moveLocalY(gameObject, transform.position.y-2.5f, 1f).setEaseInQuint();
    }
//门都不在了，我也不再接受信息了。
    private void OnDestroy()
    {
        DoorWayEvent.instance.OnEnterDoor -= OnDoorWayOpen;
        DoorWayEvent.instance.OnDoorLeave -= OnDoorWayClose;
    }
}

</pre>

<pre class="brush: plain; title: ; notranslate" title="">///
/// &lt;summary&gt; DoorTrigger
///
using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class DoorTrigger: MonoBehaviour
{

    private void OnTriggerEnter(Collider other)
    {
        //Debug.Log("Trying to Open "+other.name);
        if (other.gameObject.tag == "Door")
        {
            
            int tarId = other.GetComponent&lt;DoorController&gt;().ID;
            //Debug.Log("Trying to Open with id "+tarId);
            // 通知要开门啦！要开的门是...
            DoorWayEvent.instance.EnterDoorTrigger(new DoorEventsArgs {id=tarId });
        }
    }

    private void OnTriggerExit(Collider other)
    {
        if (other.gameObject.tag == "Door")
        {
            int tarId = other.GetComponent&lt;DoorController&gt;().ID;
            // trigger the event
            DoorWayEvent.instance.LeaveDoorTrigger(new DoorEventsArgs { id = tarId }) ;
        }
    }
}

</pre>


<p>第二组选手Action&lt;&gt;/Func&lt;&gt;加上UnityEvent （发布器 <code>DoorWayEventUsingAction.cs</code>；订阅器 <code>DoorControllerUsingAction.cs</code>；触发<code>DoorTriggerUsingAction.cs</code>）</p>


<pre class="brush: plain; title: ; notranslate" title="">///
/// &lt;summary&gt; DoorWayEventUsingAction as publisher
///
using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.Events;

public class DoorWayEventUsingAction : MonoBehaviour
{
//最重要的事件声明
    public event Action&lt;int&gt; OnDoorWayTriggerEnter;
    public event Action&lt;int&gt; OnDoorWayTriggerLeave;


    public static DoorWayEventUsingAction instance;

    private void Awake()
    {
        if (instance == null)
        {
            instance = this;
            DontDestroyOnLoad(gameObject);
        }
        else
            Destroy(gameObject);
    }
//唤起
    public void DoorWayTriggerEnter(int id)
    {
        OnDoorWayTriggerEnter?.Invoke(id);
    }

    public void DoorWayTriggerLeave(int id)
    {
        OnDoorWayTriggerLeave?.Invoke(id);
    }

//一个如何用Func的例子，虽然此处完全不实用
    private Func&lt;List&lt;GameObject&gt;&gt; OnRequestListOfDoors;
    private void Start()
    {
        SetRequestListOfDoors(FindAllDoors);
    }

    private List&lt;GameObject&gt; FindAllDoors()
    {
        List&lt;GameObject&gt; alldoors = new List&lt;GameObject&gt;();
        foreach (var iter in FindObjectsOfType&lt;DoorControllerUsingAction&gt;())
        {
            alldoors.Add(iter.gameObject);
        }
        return alldoors;
    }

    public void SetRequestListOfDoors(Func&lt;List&lt;GameObject&gt;&gt; delegateFunc)
    {
        OnRequestListOfDoors = delegateFunc;
    }
    public List&lt;GameObject&gt; RequestListOfDoors()
    {
        return OnRequestListOfDoors?.Invoke();
    }

// 用 unity event 的例子：如何订阅，唤起
    public UnityEvent unityEvent;

    public void SetThisInActiveIDKWhy()
    {
        gameObject.SetActive(false);
    }

    public void AddListenerMethod()
    {
        unityEvent.AddListener(SetThisInActiveIDKWhy);
    }

    public void InvokeUnityEvent()
    {

        unityEvent.Invoke();
    }

}

</pre>

<pre class="brush: plain; title: ; notranslate" title="">///
/// &lt;summary&gt; DoorControllerUsingAction as subcriber
///
using System.Collections;
using System.Collections.Generic;
using System.Runtime.Serialization.Json;
using UnityEngine;

public class DoorControllerUsingAction : MonoBehaviour
{
    [SerializeField] private int id;

    public int ID { get { return id; } set { id = value; } }

    // 订阅方法一模一样
    void Start()
    {
        DoorWayEventUsingAction.instance.OnDoorWayTriggerEnter += 
OnDoorWayOpen;
        DoorWayEventUsingAction.instance.OnDoorWayTriggerLeave += 
OnDoorWayLeave;
    }
//符合Action&lt;int&gt; 传参和返回类型的函数可以用来订阅
    private void OnDoorWayOpen(int id)
    {
        if (id == this.id)
        {
            LeanTween.moveLocalY(gameObject, transform.position.y + 2.5f, 1f).setEaseOutQuint();

            // 如何使用Func 但是此处的例子不实用
            List&lt;GameObject&gt; objs = 
DoorWayEventUsingAction.instance.RequestListOfDoors();
            Debug.Log($"There are {objs.Count} doors in map.");
        }
    }

    private void OnDoorWayLeave(int id)
    {
        if(id==this.id)
            LeanTween.moveLocalY(gameObject, transform.position.y - 2.5f, 1f).setEaseInQuint();
    }
//取消订阅
    private void OnDestroy()
    {
        DoorWayEventUsingAction.instance.OnDoorWayTriggerEnter -= 
OnDoorWayOpen;
        DoorWayEventUsingAction.instance.OnDoorWayTriggerLeave -= 
OnDoorWayLeave;
    }


}

</pre>

<pre class="brush: plain; title: ; notranslate" title="">///
/// &lt;summary&gt; DoorTriggerUsingAction as Trigger
///
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class DoorTriggerUsingAction : MonoBehaviour
{

    private void OnTriggerEnter(Collider other)
    {
        if (other.tag == "Door")
        {
            DoorWayEventUsingAction.instance.
DoorWayTriggerEnter(other.GetComponent&lt;DoorControllerUsingAction&gt;().ID);
        }
    }

    private void OnTriggerExit(Collider other)
    {
        if (other.tag == "Door")
        {
            DoorWayEventUsingAction.instance.
DoorWayTriggerLeave(other.GetComponent&lt;DoorControllerUsingAction&gt;().ID);
        }
    }
}

</pre>


<p><strong>区别：</strong><code>EventHandler</code>个人觉得还是更加方便，传参的时候要么是<code>EventArgs.Empty</code> 要么是自己定义的派生类。加入或者减少变量不会很麻烦地改变声明内容<code>public event EventHandler&lt;T&gt; SomeEvent</code>；而Action则需要随参数改变声明，虽然也可以写类，但是前者不香么。附stackoverflow的<a href="https://web.archive.org/web/20210302081003/https://stackoverflow.com/questions/1431359/event-action-vs-event-eventhandler" target="_blank" rel="noreferrer noopener">讨论</a>。</p>



<p><code>UnityEvent</code>在编辑模式中有方面的交互界面，有时候直接拖拽也很方便。</p>



<p>简单的实现方法可以是新构建一个类，维持订阅者的名单，再利用代理Call相应的方程。实际上还牵扯反射机制。实现传参和返回类型都是蛮复杂的，改日研究。</p>



<center><figure class="wp-block-image size-large is-resized"><img src="https://web.archive.org/web/20210302081003im_/https://fishesplace.com/wp-content/uploads/2020/07/Events2.gif" alt="" class="wp-image-107" width="351" height="260"></figure>虚晃一枪（三枪）XD</center>
            </div>
                        <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://web.archive.org/web/20210302081003/http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
                        <footer class="kratos-entry-footer clearfix">
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                                   <a href="javascript:;" id="btn" data-action="love" data-id="104" class="Love"><i class="fa fa-thumbs-o-up"></i> 点赞</a>
                <a href="javascript:;" class="Share"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain twitter" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode"><img src="https://web.archive.org/web/20210302081003im_/https://api.fczbl.vip/qr/?m=0&amp;url=https://fishesplace.com/2020/07/02/what-event-is/" width="150" height="150"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
    </div>
    <script type="text/javascript">
    function share(obj){
        var qqShareURL="https://web.archive.org/web/20210302081003/http://connect.qq.com/widget/shareqq/index.html?";
        var weiboShareURL="https://web.archive.org/web/20210302081003/http://service.weibo.com/share/share.php?";
        var qzoneShareURL="https://web.archive.org/web/20210302081003/https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
        var facebookShareURL="https://web.archive.org/web/20210302081003/https://www.facebook.com/sharer/sharer.php?";
        var twitterShareURL="https://web.archive.org/web/20210302081003/https://twitter.com/intent/tweet?";
        var host_url="https://web.archive.org/web/20210302081003/https://fishesplace.com/2020/07/02/what-event-is/";
        var title='%E3%80%90%5BUnity%5D%20%E4%BB%80%E4%B9%88%E6%98%AFc%23%E4%BA%8B%E4%BB%B6%EF%BC%9F%E5%A6%82%E4%BD%95%E7%94%A8EventHandler%E6%88%96Action%E6%88%96UnityEvent%E5%AE%9E%E7%8E%B0%E5%AE%83%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%9F%E3%80%91';
        var qqtitle='%E3%80%90%5BUnity%5D%20%E4%BB%80%E4%B9%88%E6%98%AFc%23%E4%BA%8B%E4%BB%B6%EF%BC%9F%E5%A6%82%E4%BD%95%E7%94%A8EventHandler%E6%88%96Action%E6%88%96UnityEvent%E5%AE%9E%E7%8E%B0%E5%AE%83%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%9F%E3%80%91';
        var excerpt='%22%E6%88%91%E8%A6%81%E8%BF%87%E5%8E%BB%E5%95%A6%EF%BC%8C%E5%BC%80%E9%97%A8%EF%BC%81%22%22%E8%AF%B7~%22%20%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%EF%BC%9F%E4%B8%AA%E4%BA%BA%E9%82%AE%E7%AE%B1%EF%BC%9F%E5%A4%A7%E5%AD%97%E6%8A%A5%EF%BC%9F%E5%A1%94%E9%98%B2%E9%87%8C%E9%9D%A2%E9%80%9A%E7%9F%A5%E6%AF%8F%E4%B8%AA%E5%B0%8F%E5%85%B5%E6%9B%B4%E6%94%B9%E5%89%8D%E8%BF%9B%E8%B7%AF%E7%BA%BF%EF%BC%9F%E4%B8%8B%E9%9B%A8%E4%BA%86%E6%AF%8F%E4%B8%AANPC%E5%92%8C%E8%8A%B1%E8%8A%B1%E8%8D%89%E8%8D%89%E8%A6%81%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F%E5%85%B6%E5%AE%9E%E8%BF%99%E4%BA%9B%E9%83%BD%E5%8F%AF%E4%BB%A5%E7%A7%B0%E4%BD%9C%E4%BA%8B%E4%BB%B6%EF%BC%88Events%EF%BC%89%EF%BC%8C%E5%AE%83%E4%BB%AC%E9%83%BD%E5%8C%85%E5%90%AB%E4%BA%86%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%9E%8B%EF%BC%88Observer%20Design%20Pattern%EF%BC%89%E7%9A%84%E6%80%9D%E6%83%B3%E3%80%82%20%E4%BB%80%E4%B9%88%E6%98%AFc%23%E9%87%8C%E9%9D%A2%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%91%A2%EF%BC%9F%E4%BA%8B%E4%BB%B6%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%88Object%EF%BC%89%E9%80%9A%E7%9F%A5%E4%BA%86%E6%9F%90%E4%BB%B6%E4%BA%8B%E5%8F%91%E7%94%9F%E4%BA%86%EF%BC%88%E2%80%9C%E6%88%91%E5%8F%91%E7%8E%B0%E5%A4%96%E2%80%A6%E2%80%A6';
        var wbexcerpt='%2522%E6%88%91%E8%A6%81%E8%BF%87%E5%8E%BB%E5%95%A6%EF%BC%8C%E5%BC%80%E9%97%A8%EF%BC%81%2522%2522%E8%AF%B7~%2522%20%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%EF%BC%9F%E4%B8%AA%E4%BA%BA%E9%82%AE%E7%AE%B1%EF%BC%9F%E5%A4%A7%E5%AD%97%E6%8A%A5%EF%BC%9F%E5%A1%94%E9%98%B2%E9%87%8C%E9%9D%A2%E9%80%9A%E7%9F%A5%E6%AF%8F%E4%B8%AA%E5%B0%8F%E5%85%B5%E6%9B%B4%E6%94%B9%E5%89%8D%E8%BF%9B%E8%B7%AF%E7%BA%BF%EF%BC%9F%E4%B8%8B%E9%9B%A8%E4%BA%86%E6%AF%8F%E4%B8%AANPC%E5%92%8C%E8%8A%B1%E8%8A%B1%E8%8D%89%E8%8D%89%E8%A6%81%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F%E5%85%B6%E5%AE%9E%E8%BF%99%E4%BA%9B%E9%83%BD%E5%8F%AF%E4%BB%A5%E7%A7%B0%E4%BD%9C%E4%BA%8B%E4%BB%B6%EF%BC%88Events%EF%BC%89%EF%BC%8C%E5%AE%83%E4%BB%AC%E9%83%BD%E5%8C%85%E5%90%AB%E4%BA%86%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%9E%8B%EF%BC%88Observer%20Design%20Pattern%EF%BC%89%E7%9A%84%E6%80%9D%E6%83%B3%E3%80%82%20%E4%BB%80%E4%B9%88%E6%98%AFc%23%E9%87%8C%E9%9D%A2%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%91%A2%EF%BC%9F%E4%BA%8B%E4%BB%B6%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%88Object%EF%BC%89%E9%80%9A%E7%9F%A5%E4%BA%86%E6%9F%90%E4%BB%B6%E4%BA%8B%E5%8F%91%E7%94%9F%E4%BA%86%EF%BC%88%E2%80%9C%E6%88%91%E5%8F%91%E7%8E%B0%E5%A4%96%E2%80%A6%E2%80%A6';
        var pic="https://web.archive.org/web/20210302081003/https://fishesplace.com/wp-content/uploads/2020/07/Events.gif";
        var _URL;
        if(obj=="qq"){
            _URL=qqShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="weibo"){
            _URL=weiboShareURL+"url="+host_url+"&title="+title+wbexcerpt+"&pic="+pic;
        }else if(obj=="qzone"){
            _URL=qzoneShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="facebook"){
             _URL=facebookShareURL+"u="+host_url;
        }else if(obj=="twitter"){
             _URL=twitterShareURL+"text="+title+excerpt+"&url="+host_url;
        }
        window.open(_URL);
    }
    </script>
</div>                </div>
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                    <a>No Tag</a>                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020年7月2日</span>
                    </div>
                </div>
            </footer>
        </div>
        <nav class="navigation post-navigation clearfix" role="navigation">
                        <div class="nav-previous clearfix">
                <a title="[Unity自学] DevLog 1: Week 3&amp;4, June 2020" href="https://web.archive.org/web/20210302081003/https://fishesplace.com/2020/06/21/devlog-1/">&lt; 上一篇</a>
            </div>
                        <div class="nav-next">
                <a title="[ShaderLab] 让物体光面始终朝向观察者的Lighting Model" href="https://web.archive.org/web/20210302081003/https://fishesplace.com/2020/08/12/shaderlab-shader1/">下一篇 &gt;</a>
            </div>
                    </nav>
        <div id="comments" class="comments-area">
    <ol class="comment-list">
    </ol>	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/web/20210302081003/https://fishesplace.com/2020/07/02/what-event-is/#respond" style="display:none;">取消回复</a></small></h4><form action="https://web.archive.org/web/20210302081003/https://fishesplace.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">电子邮件地址不会被公开。必填项已用 * 标注</p><div class="comment form-group has-feedback"><div class="input-group"><textarea class="form-control" id="comment" placeholder="鼓励一下还在国外没有工作的Xinyu吧|´・ω・)~" name="comment" rows="5" aria-required="true" required="" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById('submit').click();return false}};"></textarea></div><div class="OwO"></div></div><div class="comment-form-author form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-user"></i></div><input class="form-control" placeholder="昵称" id="author" name="author" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-email form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input class="form-control" placeholder="邮箱" id="email" name="email" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-key"></i></div><input class="form-control" placeholder="人机验证：6 ＋ 1 = ?" id="code" name="code" type="text" value="" autocomplete="off" size="30"><span class="form-control-feedback required">*</span><input type="hidden" name="co_num1" value="7"><input type="hidden" name="co_num2" value="3"></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-link"></i></div><input class="form-control" placeholder="网站" id="url" name="url" type="text" value="" size="30"></div></div>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-primary" value="发表评论"> <input type="hidden" name="comment_post_ID" value="104" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	</div>    </article>
    </section>
        </div>    </div>
</div>
                <footer>
                    <div id="footer" style="background:rgba(35,40,45,0.4)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                                    <p class="kratos-social-icons"><a target="_blank" rel="nofollow" href="https://web.archive.org/web/20210302081003/mailto:xinyu@fishesplace.com"><i class="fa fa-envelope"></i></a>                                    </p>
                                    <p> © 2021 <a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/">鱼之家</a>. All Rights Reserved. | 已在风雨中度过 <span id="span_dt_dt">Loading...</span><br>Theme <a href="https://web.archive.org/web/20210302081003/https://moedog.org/" target="_blank" rel="nofollow">Kratos-pjax Made by Moedog</a> Modifying by Xinyu himself | <a href="https://web.archive.org/web/20210302081003/https://fishesplace.com/sitemap.html" target="_blank">Sitemap</a>                                                                        </p>
                                </div>
                            </div>
                        </div>
                        <div class="cd-tool text-center">
                                                        <div class="gotop-box"><div class="gotop-btn"><span class="fa fa-chevron-up"></span></div></div>
                                                        <div class="search-box">
                                <span class="fa fa-search"></span>
                                <form class="search-form" role="search" method="get" id="searchform" action="https://web.archive.org/web/20210302081003/https://fishesplace.com/">
                                    <input type="text" name="s" id="search" placeholder="Search..." style="display:none">
                                </form>
                            </div>
                        </div>
                                            </div>
                </footer>
            </div>
        </div>
---
<div id="kratos-wrapper">
            <div id="kratos-page">
                <div id="kratos-header">
                                        <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                                        <header id="kratos-header-section">
                        <div class="container">
                            <div class="nav-header">
                                                                <nav id="kratos-menu-wrap" class="menu-menu-1-container"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/">首页</a></li>
<li><a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/about-xinyu/">关于Xinyu</a></li>
</ul></nav>                            </div>
                        </div>
                    </header>
                </div>
                                <div class="kratos-start kratos-hero-2">
                    <div class="kratos-overlay"></div>
                    <div class="kratos-cover kratos-cover_2 text-center">
                        <div class="desc desc2 animate-box">
                            <a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/"><h2></h2><br><span></span></a>
                        </div>
                    </div>
                </div>
                                <div id="kratos-blog-post">    <div id="container" class="container">
        <div class="row">
        <aside id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm scrollspy">
    <div id="sidebar" class="affix-top">
        <aside id="kratos_about-2" class="widget widget_kratos_about clearfix">        <div class="photo-background">
            <div class="photo-background" style="background:url(https://web.archive.org/web/20210302085702im_/https://fishesplace.com/pics/self_intro_bg.png) no-repeat center center;-webkit-background-size:cover;background-size:cover"></div>
        </div>
                <div class="photo-wrapper clearfix">
            <div class="photo-wrapper-tip text-center">
                <a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/wp-login.php?redirect_to=https%3A%2F%2Ffishesplace.com%2F2020%2F06%2F21%2Fdevlog-1%2F" rel="nofollow"><img class="about-photo" src="https://web.archive.org/web/20210302085702im_/https://fishesplace.com/pics/self_intro_icon.png" alt=""></a>
            </div>
        </div>
        <div class="textwidget">
            <p class="text-center">数据分析/管理；机器学习；Programmer</p>
        </div></aside><aside id="categories-6" class="widget widget_categories clearfix"><h4 class="widget-title">文章分类</h4>		<ul>
				<li class="cat-item cat-item-7"><a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/category/shaders/">Shaders</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/category/tech/">技术</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/category/%e6%b8%b8%e6%88%8f/">游戏</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/category/project/">项目</a> (2)
</li>
	<li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/category/uncategorized/">默认分类</a> (2)
</li>
		</ul>
			</aside>    </div>
</aside>
<section id="main" class="col-md-8">
        <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">[Unity自学] DevLog 1: Week 3&amp;4, June 2020</h1>
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020年6月21日                    <i class="fa fa-commenting-o"></i> 0条评论                    <i class="fa fa-eye"></i> 576次阅读  
                    <span class="hd">
                    <i class="fa fa-thumbs-o-up"></i> 0人点赞                    <i class="fa fa-user"></i> xinyu                    </span>
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
            
<p><strong>June 20, 2020:</strong> 第一次接触到了Lighting system，光污染似的加了好多hhh 改进了一下操纵火箭的旋转和助推代码，加上加速度和减速度。如此一来操作手感好了一点。Unity建模能力十分差，甚至造不出圆锥，看来还是要学习blender。</p>



<center><img class="wp-image-91" style="width: 300px;" src="https://web.archive.org/web/20210302085702im_/https://fishesplace.com/wp-content/uploads/2020/06/testplayrocket.gif" alt=""><div>Rocket Boost Project Following GameDev.tv Tutorial</div></center>


<pre class="brush: csharp; title: ; notranslate" title="">   private void TrottleInput()
    {
        if (Input.GetKey(KeyCode.Space) &amp;amp;&amp;amp; ySpeed &lt;= maxSpeed)
        {
            // trottle
            //myRigidBody.AddRelativeForce(Vector3.up);

            //// v2
            ySpeed = transform.InverseTransformDirection(myRigidBody.velocity).y + (acceleration * Time.deltaTime);
            myRigidBody.AddRelativeForce(Vector3.up * (acceleration * Time.deltaTime));

            //// try change velocity directly
            //Vector3 velocityOnOwnAxis = transform.InverseTransformDirection(myRigidBody.velocity);
            //ySpeed = velocityOnOwnAxis.y + acceleration * Time.deltaTime;
            //velocityOnOwnAxis.y = ySpeed;
            //myRigidBody.velocity = transform.TransformDirection(velocityOnOwnAxis);
        }
        else
        {
            // update speed
            ySpeed = transform.InverseTransformDirection(myRigidBody.velocity).y;

        }

    }
</pre>


<p></p>



<p><strong>June 24, 2020:</strong> 完成了一个简单的固定路线的飞行游戏。</p>



<center><img class="wp-image-93" style="width: 300px;" src="https://web.archive.org/web/20210302085702im_/https://fishesplace.com/wp-content/uploads/2020/06/testplayMarsAssaultsmaller.gif" alt=""><div>Argon Assault Project Following Tutorial</div></center>



<p>既然是3d飞行，就要了解飞机的转向：yaw, pitch, row.  下图正好符合左手直角坐标系，也是Unity内默认的坐标系。当飞机需要转向时，只需用左手拟合坐标系，然后握拳方向即是正角度的旋转。</p>



<center><div style="display: flex;justify-content: center;"><img class="column" style="width: 250px;  float: left;  padding: 5px;" src="https://web.archive.org/web/20210302085702im_/https://fishesplace.com/wp-content/uploads/2020/06/320eb9eb9f339aca784aea36bc9dda5.png" alt=""><img class="column" style="width: 250px;float: left; padding: 5px;" src="https://web.archive.org/web/20210302085702im_/https://fishesplace.com/wp-content/uploads/2020/06/flightscreenshot.png" alt=""></div><div> Aircraft Principal Axes From Wiki and My Screenshot</div></center>



<p>例如如果要用Euler Angle 表述飞机在屏幕左边向左偏航（yaw），在右边向右偏航，在上下側也有俯仰（pitch），同时根据横轴（horizontal axis）的输入大小进行翻滚（row），那么可以这么写代码：</p>


<pre class="brush: csharp; title: ; notranslate" title="">    private void ProcessingInput()
    {
        float horizontalThrow = CrossPlatformInputManager.GetAxis("Horizontal");
        float verticalThrow = CrossPlatformInputManager.GetAxis("Vertical");
        Vector3 newPos = transform.localPosition;
        newPos.x += horizontalThrow * Time.deltaTime * XSpeed;
        newPos.x = Mathf.Clamp(newPos.x, -XRange, XRange);
        newPos.y += verticalThrow * Time.deltaTime * YSpeed;
        newPos.y = Mathf.Clamp(newPos.y, -YRange, YRange);
        transform.localPosition = newPos;


        // add a little bit of rotation
        myRigidBody.angularVelocity = Vector3.zero;
        Quaternion rotation = Quaternion.Euler(0f, 0f, -maxRollDegree * horizontalThrow);
        Quaternion tmp = Quaternion.Slerp(transform.localRotation, rotation, Time.deltaTime * rotateDamping);
        Vector3 tmpEuler = tmp.eulerAngles;
        tmpEuler.x = (-transform.localPosition.y / pitchMoveRange) * maxPitchDegree;
        tmpEuler.y = (-transform.localPosition.x / yawMoveRange) * maxYawDegree;
        tmp.eulerAngles = tmpEuler;
        transform.localRotation = tmp;
    }
</pre>


<p>思路是用向量表示Euler Angle的大小，然后单独构建每一个维度，最后再变成<code>Quaternion</code>赋值给对象。值得一提的是Unity用<code>Quaternion</code>做为底层旋转角度的表示好处是不会像Euler Angle一样出现<code>Gimbal Lock</code>，即一个或两个方向转不动的情况，不便之处就是<code>ijk</code>的值有点难直观理解。幸好Unity提供了对Euler Angle的直接转换。</p>



<p>接下来打算用做学的知识做一个空战游戏，结合blender建模做个3d自由视角的low-poly娱乐向空战似乎也不错。真正的空战游戏应该给玩家三个维度（pitch, yaw, row）的操作自由度，再加上油门的大小。当然很多空战游戏其实是简化的。立flag早日写出<code>Controller</code>和调校好镜头跟随。先下载下来别人优秀的源码研究一下先。</p>



<center><img class="wp-image-97" style="width: 300px;" src="https://web.archive.org/web/20210302085702im_/https://fishesplace.com/wp-content/uploads/2020/06/flight.gif" alt=""><a href="https://web.archive.org/web/20210302085702/https://github.com/brihernandez/MouseFlight" target="_blank" rel="nofollow">优秀的鼠标控制三轴飞行</a></center>



<p>此外，Unity其实有不少地方暗示了c#的一个特性：<strong>reflection</strong>。不同于相当于协程的<code>Invoke()</code>，<code>Gameobject.SendMessage()</code>其实是反射机制，它在每一帧调用对象内的所有<code>MonoBehavior</code>。我的猜测是由于c#存在反射机制，它可以方便地通过<code>GetType()</code>之类的函数调用对象的方法、特性等。c#真的是很完美的语言了。</p>
            </div>
                        <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://web.archive.org/web/20210302085702/http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
                        <footer class="kratos-entry-footer clearfix">
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                                   <a href="javascript:;" id="btn" data-action="love" data-id="90" class="Love"><i class="fa fa-thumbs-o-up"></i> 点赞</a>
                <a href="javascript:;" class="Share"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain twitter" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode"><img src="https://web.archive.org/web/20210302085702im_/https://api.fczbl.vip/qr/?m=0&amp;url=https://fishesplace.com/2020/06/21/devlog-1/" width="150" height="150"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
    </div>
    <script type="text/javascript">
    function share(obj){
        var qqShareURL="https://web.archive.org/web/20210302085702/http://connect.qq.com/widget/shareqq/index.html?";
        var weiboShareURL="https://web.archive.org/web/20210302085702/http://service.weibo.com/share/share.php?";
        var qzoneShareURL="https://web.archive.org/web/20210302085702/https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
        var facebookShareURL="https://web.archive.org/web/20210302085702/https://www.facebook.com/sharer/sharer.php?";
        var twitterShareURL="https://web.archive.org/web/20210302085702/https://twitter.com/intent/tweet?";
        var host_url="https://web.archive.org/web/20210302085702/https://fishesplace.com/2020/06/21/devlog-1/";
        var title='%E3%80%90%5BUnity%E8%87%AA%E5%AD%A6%5D%20DevLog%201%3A%20Week%203%26%23038%3B4%2C%20June%202020%E3%80%91';
        var qqtitle='%E3%80%90%5BUnity%E8%87%AA%E5%AD%A6%5D%20DevLog%201%3A%20Week%203%26%23038%3B4%2C%20June%202020%E3%80%91';
        var excerpt='June%2020%2C%202020%3A%20%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8E%A5%E8%A7%A6%E5%88%B0%E4%BA%86Lighting%20system%EF%BC%8C%E5%85%89%E6%B1%A1%E6%9F%93%E4%BC%BC%E7%9A%84%E5%8A%A0%E4%BA%86%E5%A5%BD%E5%A4%9Ahhh%20%E6%94%B9%E8%BF%9B%E4%BA%86%E4%B8%80%E4%B8%8B%E6%93%8D%E7%BA%B5%E7%81%AB%E7%AE%AD%E7%9A%84%E6%97%8B%E8%BD%AC%E5%92%8C%E5%8A%A9%E6%8E%A8%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%8A%A0%E4%B8%8A%E5%8A%A0%E9%80%9F%E5%BA%A6%E5%92%8C%E5%87%8F%E9%80%9F%E5%BA%A6%E3%80%82%E5%A6%82%E6%AD%A4%E4%B8%80%E6%9D%A5%E6%93%8D%E4%BD%9C%E6%89%8B%E6%84%9F%E5%A5%BD%E4%BA%86%E4%B8%80%E7%82%B9%E3%80%82Unity%E5%BB%BA%E6%A8%A1%E8%83%BD%E5%8A%9B%E5%8D%81%E5%88%86%E5%B7%AE%EF%BC%8C%E7%94%9A%E8%87%B3%E9%80%A0%E4%B8%8D%E5%87%BA%E5%9C%86%E9%94%A5%EF%BC%8C%E7%9C%8B%E6%9D%A5%E8%BF%98%E6%98%AF%E8%A6%81%E5%AD%A6%E4%B9%A0blender%E3%80%82%20Rocket%20Boost%20Project%20Following%20GameDev.tv%E2%80%A6%E2%80%A6';
        var wbexcerpt='June%2020%2C%202020%3A%20%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8E%A5%E8%A7%A6%E5%88%B0%E4%BA%86Lighting%20system%EF%BC%8C%E5%85%89%E6%B1%A1%E6%9F%93%E4%BC%BC%E7%9A%84%E5%8A%A0%E4%BA%86%E5%A5%BD%E5%A4%9Ahhh%20%E6%94%B9%E8%BF%9B%E4%BA%86%E4%B8%80%E4%B8%8B%E6%93%8D%E7%BA%B5%E7%81%AB%E7%AE%AD%E7%9A%84%E6%97%8B%E8%BD%AC%E5%92%8C%E5%8A%A9%E6%8E%A8%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%8A%A0%E4%B8%8A%E5%8A%A0%E9%80%9F%E5%BA%A6%E5%92%8C%E5%87%8F%E9%80%9F%E5%BA%A6%E3%80%82%E5%A6%82%E6%AD%A4%E4%B8%80%E6%9D%A5%E6%93%8D%E4%BD%9C%E6%89%8B%E6%84%9F%E5%A5%BD%E4%BA%86%E4%B8%80%E7%82%B9%E3%80%82Unity%E5%BB%BA%E6%A8%A1%E8%83%BD%E5%8A%9B%E5%8D%81%E5%88%86%E5%B7%AE%EF%BC%8C%E7%94%9A%E8%87%B3%E9%80%A0%E4%B8%8D%E5%87%BA%E5%9C%86%E9%94%A5%EF%BC%8C%E7%9C%8B%E6%9D%A5%E8%BF%98%E6%98%AF%E8%A6%81%E5%AD%A6%E4%B9%A0blender%E3%80%82%20Rocket%20Boost%20Project%20Following%20GameDev.tv%E2%80%A6%E2%80%A6';
        var pic="https://web.archive.org/web/20210302085702/https://fishesplace.com/wp-content/uploads/2020/06/testplayrocket.gif";
        var _URL;
        if(obj=="qq"){
            _URL=qqShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="weibo"){
            _URL=weiboShareURL+"url="+host_url+"&title="+title+wbexcerpt+"&pic="+pic;
        }else if(obj=="qzone"){
            _URL=qzoneShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="facebook"){
             _URL=facebookShareURL+"u="+host_url;
        }else if(obj=="twitter"){
             _URL=twitterShareURL+"text="+title+excerpt+"&url="+host_url;
        }
        window.open(_URL);
    }
    </script>
</div>                </div>
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                    <a>No Tag</a>                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020年6月25日</span>
                    </div>
                </div>
            </footer>
        </div>
        <nav class="navigation post-navigation clearfix" role="navigation">
                        <div class="nav-previous clearfix">
                <a title="[Unity 2D Platform] 让人物移动拥有精确加速度和减速度的代码" href="https://web.archive.org/web/20210302085702/https://fishesplace.com/2020/06/20/accurate-running-control/">&lt; 上一篇</a>
            </div>
                        <div class="nav-next">
                <a title="[Unity] 什么是c#事件？如何用EventHandler或Action或UnityEvent实现它的功能？" href="https://web.archive.org/web/20210302085702/https://fishesplace.com/2020/07/02/what-event-is/">下一篇 &gt;</a>
            </div>
                    </nav>
        <div id="comments" class="comments-area">
    <ol class="comment-list">
    </ol>	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/web/20210302085702/https://fishesplace.com/2020/06/21/devlog-1/#respond" style="display:none;">取消回复</a></small></h4><form action="https://web.archive.org/web/20210302085702/https://fishesplace.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">电子邮件地址不会被公开。必填项已用 * 标注</p><div class="comment form-group has-feedback"><div class="input-group"><textarea class="form-control" id="comment" placeholder="鼓励一下还在国外没有工作的Xinyu吧|´・ω・)~" name="comment" rows="5" aria-required="true" required="" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById('submit').click();return false}};"></textarea></div><div class="OwO"></div></div><div class="comment-form-author form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-user"></i></div><input class="form-control" placeholder="昵称" id="author" name="author" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-email form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input class="form-control" placeholder="邮箱" id="email" name="email" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-key"></i></div><input class="form-control" placeholder="人机验证：0 ＋ 5 = ?" id="code" name="code" type="text" value="" autocomplete="off" size="30"><span class="form-control-feedback required">*</span><input type="hidden" name="co_num1" value="1"><input type="hidden" name="co_num2" value="7"></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-link"></i></div><input class="form-control" placeholder="网站" id="url" name="url" type="text" value="" size="30"></div></div>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-primary" value="发表评论"> <input type="hidden" name="comment_post_ID" value="90" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	</div>    </article>
    </section>
        </div>    </div>
</div>
                <footer>
                    <div id="footer" style="background:rgba(35,40,45,0.4)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                                    <p class="kratos-social-icons"><a target="_blank" rel="nofollow" href="https://web.archive.org/web/20210302085702/mailto:xinyu@fishesplace.com"><i class="fa fa-envelope"></i></a>                                    </p>
                                    <p> © 2021 <a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/">鱼之家</a>. All Rights Reserved. | 已在风雨中度过 <span id="span_dt_dt">Loading...</span><br>Theme <a href="https://web.archive.org/web/20210302085702/https://moedog.org/" target="_blank" rel="nofollow">Kratos-pjax Made by Moedog</a> Modifying by Xinyu himself | <a href="https://web.archive.org/web/20210302085702/https://fishesplace.com/sitemap.html" target="_blank">Sitemap</a>                                                                        </p>
                                </div>
                            </div>
                        </div>
                        <div class="cd-tool text-center">
                                                        <div class="gotop-box"><div class="gotop-btn"><span class="fa fa-chevron-up"></span></div></div>
                                                        <div class="search-box">
                                <span class="fa fa-search"></span>
                                <form class="search-form" role="search" method="get" id="searchform" action="https://web.archive.org/web/20210302085702/https://fishesplace.com/">
                                    <input type="text" name="s" id="search" placeholder="Search..." style="display:none">
                                </form>
                            </div>
                        </div>
                                            </div>
                </footer>
            </div>
        </div>
---
<div id="kratos-wrapper">
            <div id="kratos-page">
                <div id="kratos-header">
                                        <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                                        <header id="kratos-header-section">
                        <div class="container">
                            <div class="nav-header">
                                                                <nav id="kratos-menu-wrap" class="menu-menu-1-container"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/">首页</a></li>
<li><a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/about-xinyu/">关于Xinyu</a></li>
</ul></nav>                            </div>
                        </div>
                    </header>
                </div>
                                <div class="kratos-start kratos-hero-2">
                    <div class="kratos-overlay"></div>
                    <div class="kratos-cover kratos-cover_2 text-center">
                        <div class="desc desc2 animate-box">
                            <a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/"><h2></h2><br><span></span></a>
                        </div>
                    </div>
                </div>
                                <div id="kratos-blog-post">    <div id="container" class="container">
        <div class="row">
        <aside id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm scrollspy">
    <div id="sidebar" class="affix-top">
        <aside id="kratos_about-2" class="widget widget_kratos_about clearfix">        <div class="photo-background">
            <div class="photo-background" style="background:url(https://web.archive.org/web/20210302070211im_/https://fishesplace.com/pics/self_intro_bg.png) no-repeat center center;-webkit-background-size:cover;background-size:cover"></div>
        </div>
                <div class="photo-wrapper clearfix">
            <div class="photo-wrapper-tip text-center">
                <a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/wp-login.php?redirect_to=https%3A%2F%2Ffishesplace.com%2F2020%2F06%2F20%2Faccurate-running-control%2F" rel="nofollow"><img class="about-photo" src="https://web.archive.org/web/20210302070211im_/https://fishesplace.com/pics/self_intro_icon.png" alt=""></a>
            </div>
        </div>
        <div class="textwidget">
            <p class="text-center">数据分析/管理；机器学习；Programmer</p>
        </div></aside><aside id="categories-6" class="widget widget_categories clearfix"><h4 class="widget-title">文章分类</h4>		<ul>
				<li class="cat-item cat-item-7"><a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/category/shaders/">Shaders</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/category/tech/">技术</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/category/%e6%b8%b8%e6%88%8f/">游戏</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/category/project/">项目</a> (2)
</li>
	<li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/category/uncategorized/">默认分类</a> (2)
</li>
		</ul>
			</aside>    </div>
</aside>
<section id="main" class="col-md-8">
        <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">[Unity 2D Platform] 让人物移动拥有精确加速度和减速度的代码</h1>
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020年6月20日                    <i class="fa fa-commenting-o"></i> 0条评论                    <i class="fa fa-eye"></i> 499次阅读  
                    <span class="hd">
                    <i class="fa fa-thumbs-o-up"></i> 0人点赞                    <i class="fa fa-user"></i> xinyu                    </span>
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
            
<center><figure class="wp-block-image size-large is-resized"><img src="https://web.archive.org/web/20210302070211im_/https://fishesplace.com/wp-content/uploads/2020/06/19a31414036af85e3b78f75a8ce26d5.png" alt="Celeste_speed_curve" class="wp-image-87" width="486" height="331" srcset="https://web.archive.org/web/20210302070211im_/https://fishesplace.com/wp-content/uploads/2020/06/19a31414036af85e3b78f75a8ce26d5.png 939w, https://web.archive.org/web/20210302070211im_/https://fishesplace.com/wp-content/uploads/2020/06/19a31414036af85e3b78f75a8ce26d5-300x204.png 300w, https://web.archive.org/web/20210302070211im_/https://fishesplace.com/wp-content/uploads/2020/06/19a31414036af85e3b78f75a8ce26d5-768x523.png 768w, https://web.archive.org/web/20210302070211im_/https://fishesplace.com/wp-content/uploads/2020/06/19a31414036af85e3b78f75a8ce26d5-750x511.png 750w" sizes="(max-width: 486px) 100vw, 486px"><figcaption><a href="https://web.archive.org/web/20210302070211/https://www.youtube.com/watch?v=yorTG9at90g" target="_blank" rel="nofollow">GMTK</a>总结的Celeste速度曲线（黄线）</figcaption></figure></center>



<p>在寻找和探索了许久之后我终于发现了接近完美的代码。在改进了<a href="https://web.archive.org/web/20210302070211/https://answers.unity.com/questions/29751/gradually-moving-an-object-up-to-speed-rather-then.html" target="_blank" rel="nofollow">这里</a>的代码之后，以下的代码便可以指定人物的加速度和减速度以及最高速度，从而实现对速度曲线的控制。"It just works!"</p>


<pre class="brush: csharp; title: ; notranslate" title="">public class PlayerController: MonoBehaviour
{
    Rigidbody2D myRigidBody;
	[Header("Run")]
    //最高速度
    [SerializeField] [Range(0f, 10f)] float MaxSpeed = 7f;
    //当前速度（不要强行改动）
    [SerializeField] float Speed = 0f;
    //加速度unit/s^2：在一秒结束时人物可以从0加速到多少。
    [SerializeField] float Acceleration = 30f;
    //减速度unit/s^2：在一秒结束时人物可以从某个速度减速到0。
    [SerializeField] float Deceleration = 50f;
    
	void Start()
	{
		myRigidBody = GetComponent&lt;Rigidbody2D&gt;();
	}
	
    void Update()
	{
		Run();
	}
	
	void Run()
	{
		//在速度不到极限速度时且速度和方向键同向时提供加速度
		if ((Input.GetKey("left") || Input.GetKey(KeyCode.A)) 
&amp;amp;&amp;amp; (Speed &gt;- MaxSpeed) &amp;amp;&amp;amp; (Mathf.Approximately(Speed,0f)|| Speed&lt;0f)) 
			Speed = Speed - Acceleration * Time.deltaTime;
        else if ((Input.GetKey("right") || Input.GetKey(KeyCode.D)) 
&amp;amp;&amp;amp; (Speed &lt;MaxSpeed) &amp;amp;&amp;amp; (Mathf.Approximately(Speed,0f)|| Speed&gt;0f)) 
			Speed = Speed + Acceleration * Time.deltaTime;
        else
        {
			//在松开按键或者速度和方向键反向时提供减速度
            if (Speed &gt; Deceleration * Time.deltaTime) 
Speed = Speed - Deceleration * Time.deltaTime;
            else if (Speed &lt; -Deceleration * Time.deltaTime) 
Speed = Speed + Deceleration * Time.deltaTime;
            else
                Speed = 0;
        }
		
		//不可以强行改变人物位置，会导致穿模
        //Vector2 position = transform.position;
        //position.x += Speed * Time.deltaTime;
        //transform.position = position;
		
		//正确做法是改变人物速度，相当于AddForce
        Vector2 tarVelocity = myRigidBody.velocity;
        tarVelocity.x = Speed;
        myRigidBody.velocity = tarVelocity;
	}
}
</pre>


<p>另外要实现更精确的控制可以锁帧，然后根据算出从0加速到最高的时间<code>MaxSpeed/Acceleration</code>，即可估摸出加速过程有几帧。</p>
            </div>
                        <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://web.archive.org/web/20210302070211/http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
                        <footer class="kratos-entry-footer clearfix">
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                                   <a href="javascript:;" id="btn" data-action="love" data-id="86" class="Love"><i class="fa fa-thumbs-o-up"></i> 点赞</a>
                <a href="javascript:;" class="Share"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain twitter" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode"><img src="https://web.archive.org/web/20210302070211im_/https://api.fczbl.vip/qr/?m=0&amp;url=https://fishesplace.com/2020/06/20/accurate-running-control/" width="150" height="150"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
    </div>
    <script type="text/javascript">
    function share(obj){
        var qqShareURL="https://web.archive.org/web/20210302070211/http://connect.qq.com/widget/shareqq/index.html?";
        var weiboShareURL="https://web.archive.org/web/20210302070211/http://service.weibo.com/share/share.php?";
        var qzoneShareURL="https://web.archive.org/web/20210302070211/https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
        var facebookShareURL="https://web.archive.org/web/20210302070211/https://www.facebook.com/sharer/sharer.php?";
        var twitterShareURL="https://web.archive.org/web/20210302070211/https://twitter.com/intent/tweet?";
        var host_url="https://web.archive.org/web/20210302070211/https://fishesplace.com/2020/06/20/accurate-running-control/";
        var title='%E3%80%90%5BUnity%202D%20Platform%5D%20%E8%AE%A9%E4%BA%BA%E7%89%A9%E7%A7%BB%E5%8A%A8%E6%8B%A5%E6%9C%89%E7%B2%BE%E7%A1%AE%E5%8A%A0%E9%80%9F%E5%BA%A6%E5%92%8C%E5%87%8F%E9%80%9F%E5%BA%A6%E7%9A%84%E4%BB%A3%E7%A0%81%E3%80%91';
        var qqtitle='%E3%80%90%5BUnity%202D%20Platform%5D%20%E8%AE%A9%E4%BA%BA%E7%89%A9%E7%A7%BB%E5%8A%A8%E6%8B%A5%E6%9C%89%E7%B2%BE%E7%A1%AE%E5%8A%A0%E9%80%9F%E5%BA%A6%E5%92%8C%E5%87%8F%E9%80%9F%E5%BA%A6%E7%9A%84%E4%BB%A3%E7%A0%81%E3%80%91';
        var excerpt='GMTK%E6%80%BB%E7%BB%93%E7%9A%84Celeste%E9%80%9F%E5%BA%A6%E6%9B%B2%E7%BA%BF%EF%BC%88%E9%BB%84%E7%BA%BF%EF%BC%89%20%E5%9C%A8%E5%AF%BB%E6%89%BE%E5%92%8C%E6%8E%A2%E7%B4%A2%E4%BA%86%E8%AE%B8%E4%B9%85%E4%B9%8B%E5%90%8E%E6%88%91%E7%BB%88%E4%BA%8E%E5%8F%91%E7%8E%B0%E4%BA%86%E6%8E%A5%E8%BF%91%E5%AE%8C%E7%BE%8E%E7%9A%84%E4%BB%A3%E7%A0%81%E3%80%82%E5%9C%A8%E6%94%B9%E8%BF%9B%E4%BA%86%E8%BF%99%E9%87%8C%E7%9A%84%E4%BB%A3%E7%A0%81%E4%B9%8B%E5%90%8E%EF%BC%8C%E4%BB%A5%E4%B8%8B%E7%9A%84%E4%BB%A3%E7%A0%81%E4%BE%BF%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%AE%9A%E4%BA%BA%E7%89%A9%E7%9A%84%E5%8A%A0%E9%80%9F%E5%BA%A6%E5%92%8C%E5%87%8F%E9%80%9F%E5%BA%A6%E4%BB%A5%E5%8F%8A%E6%9C%80%E9%AB%98%E9%80%9F%E5%BA%A6%EF%BC%8C%E4%BB%8E%E8%80%8C%E5%AE%9E%E7%8E%B0%E5%AF%B9%E9%80%9F%E5%BA%A6%E6%9B%B2%E7%BA%BF%E7%9A%84%E6%8E%A7%E5%88%B6%E3%80%82%22It%20just%20works%21%22%20%E5%8F%A6%E5%A4%96%E8%A6%81%E5%AE%9E%E7%8E%B0%E6%9B%B4%E7%B2%BE%E7%A1%AE%E7%9A%84%E6%8E%A7%E5%88%B6%E5%8F%AF%E4%BB%A5%E9%94%81%E5%B8%A7%EF%BC%8C%E7%84%B6%E5%90%8E%E6%A0%B9%E6%8D%AE%E7%AE%97%E5%87%BA%E4%BB%8E0%E5%8A%A0%E9%80%9F%E5%88%B0%E6%9C%80%E9%AB%98%E7%9A%84%E6%97%B6%E9%97%B4MaxSpeed%2FAcceleration%E2%80%A6%E2%80%A6';
        var wbexcerpt='GMTK%E6%80%BB%E7%BB%93%E7%9A%84Celeste%E9%80%9F%E5%BA%A6%E6%9B%B2%E7%BA%BF%EF%BC%88%E9%BB%84%E7%BA%BF%EF%BC%89%20%E5%9C%A8%E5%AF%BB%E6%89%BE%E5%92%8C%E6%8E%A2%E7%B4%A2%E4%BA%86%E8%AE%B8%E4%B9%85%E4%B9%8B%E5%90%8E%E6%88%91%E7%BB%88%E4%BA%8E%E5%8F%91%E7%8E%B0%E4%BA%86%E6%8E%A5%E8%BF%91%E5%AE%8C%E7%BE%8E%E7%9A%84%E4%BB%A3%E7%A0%81%E3%80%82%E5%9C%A8%E6%94%B9%E8%BF%9B%E4%BA%86%E8%BF%99%E9%87%8C%E7%9A%84%E4%BB%A3%E7%A0%81%E4%B9%8B%E5%90%8E%EF%BC%8C%E4%BB%A5%E4%B8%8B%E7%9A%84%E4%BB%A3%E7%A0%81%E4%BE%BF%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%AE%9A%E4%BA%BA%E7%89%A9%E7%9A%84%E5%8A%A0%E9%80%9F%E5%BA%A6%E5%92%8C%E5%87%8F%E9%80%9F%E5%BA%A6%E4%BB%A5%E5%8F%8A%E6%9C%80%E9%AB%98%E9%80%9F%E5%BA%A6%EF%BC%8C%E4%BB%8E%E8%80%8C%E5%AE%9E%E7%8E%B0%E5%AF%B9%E9%80%9F%E5%BA%A6%E6%9B%B2%E7%BA%BF%E7%9A%84%E6%8E%A7%E5%88%B6%E3%80%82%2522It%20just%20works%21%2522%20%E5%8F%A6%E5%A4%96%E8%A6%81%E5%AE%9E%E7%8E%B0%E6%9B%B4%E7%B2%BE%E7%A1%AE%E7%9A%84%E6%8E%A7%E5%88%B6%E5%8F%AF%E4%BB%A5%E9%94%81%E5%B8%A7%EF%BC%8C%E7%84%B6%E5%90%8E%E6%A0%B9%E6%8D%AE%E7%AE%97%E5%87%BA%E4%BB%8E0%E5%8A%A0%E9%80%9F%E5%88%B0%E6%9C%80%E9%AB%98%E7%9A%84%E6%97%B6%E9%97%B4MaxSpeed%2FAcceleration%E2%80%A6%E2%80%A6';
        var pic="https://web.archive.org/web/20210302070211/https://fishesplace.com/wp-content/uploads/2020/06/19a31414036af85e3b78f75a8ce26d5.png";
        var _URL;
        if(obj=="qq"){
            _URL=qqShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="weibo"){
            _URL=weiboShareURL+"url="+host_url+"&title="+title+wbexcerpt+"&pic="+pic;
        }else if(obj=="qzone"){
            _URL=qzoneShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="facebook"){
             _URL=facebookShareURL+"u="+host_url;
        }else if(obj=="twitter"){
             _URL=twitterShareURL+"text="+title+excerpt+"&url="+host_url;
        }
        window.open(_URL);
    }
    </script>
</div>                </div>
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                    <a>No Tag</a>                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020年6月20日</span>
                    </div>
                </div>
            </footer>
        </div>
        <nav class="navigation post-navigation clearfix" role="navigation">
                        <div class="nav-previous clearfix">
                <a title="[Unity自学] Tile Vania: The Runner (2D platform)" href="https://web.archive.org/web/20210302070211/https://fishesplace.com/2020/06/19/tile-vania-article/">&lt; 上一篇</a>
            </div>
                        <div class="nav-next">
                <a title="[Unity自学] DevLog 1: Week 3&amp;4, June 2020" href="https://web.archive.org/web/20210302070211/https://fishesplace.com/2020/06/21/devlog-1/">下一篇 &gt;</a>
            </div>
                    </nav>
        <div id="comments" class="comments-area">
    <ol class="comment-list">
    </ol>	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/web/20210302070211/https://fishesplace.com/2020/06/20/accurate-running-control/#respond" style="display:none;">取消回复</a></small></h4><form action="https://web.archive.org/web/20210302070211/https://fishesplace.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">电子邮件地址不会被公开。必填项已用 * 标注</p><div class="comment form-group has-feedback"><div class="input-group"><textarea class="form-control" id="comment" placeholder="鼓励一下还在国外没有工作的Xinyu吧|´・ω・)~" name="comment" rows="5" aria-required="true" required="" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById('submit').click();return false}};"></textarea></div><div class="OwO"></div></div><div class="comment-form-author form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-user"></i></div><input class="form-control" placeholder="昵称" id="author" name="author" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-email form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input class="form-control" placeholder="邮箱" id="email" name="email" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-key"></i></div><input class="form-control" placeholder="人机验证：6 ＋ 3 = ?" id="code" name="code" type="text" value="" autocomplete="off" size="30"><span class="form-control-feedback required">*</span><input type="hidden" name="co_num1" value="7"><input type="hidden" name="co_num2" value="5"></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-link"></i></div><input class="form-control" placeholder="网站" id="url" name="url" type="text" value="" size="30"></div></div>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-primary" value="发表评论"> <input type="hidden" name="comment_post_ID" value="86" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	</div>    </article>
    </section>
        </div>    </div>
</div>
                <footer>
                    <div id="footer" style="background:rgba(35,40,45,0.4)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                                    <p class="kratos-social-icons"><a target="_blank" rel="nofollow" href="https://web.archive.org/web/20210302070211/mailto:xinyu@fishesplace.com"><i class="fa fa-envelope"></i></a>                                    </p>
                                    <p> © 2021 <a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/">鱼之家</a>. All Rights Reserved. | 已在风雨中度过 <span id="span_dt_dt">Loading...</span><br>Theme <a href="https://web.archive.org/web/20210302070211/https://moedog.org/" target="_blank" rel="nofollow">Kratos-pjax Made by Moedog</a> Modifying by Xinyu himself | <a href="https://web.archive.org/web/20210302070211/https://fishesplace.com/sitemap.html" target="_blank">Sitemap</a>                                                                        </p>
                                </div>
                            </div>
                        </div>
                        <div class="cd-tool text-center">
                                                        <div class="gotop-box"><div class="gotop-btn"><span class="fa fa-chevron-up"></span></div></div>
                                                        <div class="search-box">
                                <span class="fa fa-search"></span>
                                <form class="search-form" role="search" method="get" id="searchform" action="https://web.archive.org/web/20210302070211/https://fishesplace.com/">
                                    <input type="text" name="s" id="search" placeholder="Search..." style="display:none">
                                </form>
                            </div>
                        </div>
                                            </div>
                </footer>
            </div>
        </div>
---
<div id="kratos-wrapper">
            <div id="kratos-page">
                <div id="kratos-header">
                                        <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                                        <header id="kratos-header-section">
                        <div class="container">
                            <div class="nav-header">
                                                                <nav id="kratos-menu-wrap" class="menu-menu-1-container"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/">首页</a></li>
<li><a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/about-xinyu/">关于Xinyu</a></li>
</ul></nav>                            </div>
                        </div>
                    </header>
                </div>
                                <div class="kratos-start kratos-hero-2">
                    <div class="kratos-overlay"></div>
                    <div class="kratos-cover kratos-cover_2 text-center">
                        <div class="desc desc2 animate-box">
                            <a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/"><h2></h2><br><span></span></a>
                        </div>
                    </div>
                </div>
                                <div id="kratos-blog-post">    <div id="container" class="container">
        <div class="row">
        <aside id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm scrollspy">
    <div id="sidebar" class="affix-top">
        <aside id="kratos_about-2" class="widget widget_kratos_about clearfix">        <div class="photo-background">
            <div class="photo-background" style="background:url(https://web.archive.org/web/20210302080933im_/https://fishesplace.com/pics/self_intro_bg.png) no-repeat center center;-webkit-background-size:cover;background-size:cover"></div>
        </div>
                <div class="photo-wrapper clearfix">
            <div class="photo-wrapper-tip text-center">
                <a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/wp-login.php?redirect_to=https%3A%2F%2Ffishesplace.com%2F2020%2F06%2F19%2Ftile-vania-article%2F" rel="nofollow"><img class="about-photo" src="https://web.archive.org/web/20210302080933im_/https://fishesplace.com/pics/self_intro_icon.png" alt=""></a>
            </div>
        </div>
        <div class="textwidget">
            <p class="text-center">数据分析/管理；机器学习；Programmer</p>
        </div></aside><aside id="categories-6" class="widget widget_categories clearfix"><h4 class="widget-title">文章分类</h4>		<ul>
				<li class="cat-item cat-item-7"><a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/category/shaders/">Shaders</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/category/tech/">技术</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/category/%e6%b8%b8%e6%88%8f/">游戏</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/category/project/">项目</a> (2)
</li>
	<li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/category/uncategorized/">默认分类</a> (2)
</li>
		</ul>
			</aside>    </div>
</aside>
<section id="main" class="col-md-8">
        <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">[Unity自学] Tile Vania: The Runner (2D platform)</h1>
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020年6月19日                    <i class="fa fa-commenting-o"></i> 0条评论                    <i class="fa fa-eye"></i> 560次阅读  
                    <span class="hd">
                    <i class="fa fa-thumbs-o-up"></i> 0人点赞                    <i class="fa fa-user"></i> xinyu                    </span>
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
            
<p><strong>Tile Vania: The Runner</strong> 是一个快节奏的跑酷游戏。主角行动灵敏和迅速，他为了证明自己是最快的跑者踏上了试炼之路。<strong>欢迎在我的服务器上留下你们的名字和新的记录！</strong></p>



<p>做这款小游戏花了比预想的要就得多的时间。依旧是自己写程序，想关卡。人物和tilemap的美术资源是Unity Asset Store里面的，剩下的小部件是自己画的像素风Sprite Sheet。（解锁了新的技能！）</p>



<p>在做的过程中我也发现了自己的确更擅长琢磨技巧和实现方法，比如做一个在线的leaderboard；用cinemachine进行镜头平移和切换，实现人物的残影等等。做出来了这些我会很开心。场景方面确实有点重复，这是可以改进的地方。人物操作上还是会有偶尔的不顺畅，以后再做的时候可以重构一下操作代码。</p>



<p>那么2D的游戏就先到这里吧。接下来好好学学U3d，学学shader，或者Directx增加点图形学的知识，好尽快武装起来自己。</p>



<center><img class="wp-image-83" style="width: 400px;" src="https://web.archive.org/web/20210302080933im_/https://fishesplace.com/wp-content/uploads/2020/06/screenshot.png" alt="" srcset="https://web.archive.org/web/20210302080933im_/https://fishesplace.com/wp-content/uploads/2020/06/screenshot.png 955w, https://web.archive.org/web/20210302080933im_/https://fishesplace.com/wp-content/uploads/2020/06/screenshot-300x217.png 300w, https://web.archive.org/web/20210302080933im_/https://fishesplace.com/wp-content/uploads/2020/06/screenshot-768x556.png 768w, https://web.archive.org/web/20210302080933im_/https://fishesplace.com/wp-content/uploads/2020/06/screenshot-750x543.png 750w" sizes="(max-width: 955px) 100vw, 955px"><div>游戏截屏</div></center>



<p>点击<a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/tile-vania-unity-theme-wrapped">这里</a>游玩WebGL版本（需缩放一下页面调整）。点击<a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/tile_vania/download.php" target="_blank" rel="noreferrer noopener">这里</a>下载win版的rar打包文件。</p>
            </div>
                        <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://web.archive.org/web/20210302080933/http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
                        <footer class="kratos-entry-footer clearfix">
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                                   <a href="javascript:;" id="btn" data-action="love" data-id="82" class="Love"><i class="fa fa-thumbs-o-up"></i> 点赞</a>
                <a href="javascript:;" class="Share"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain twitter" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode"><img src="https://web.archive.org/web/20210302080933im_/https://api.fczbl.vip/qr/?m=0&amp;url=https://fishesplace.com/2020/06/19/tile-vania-article/" width="150" height="150"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
    </div>
    <script type="text/javascript">
    function share(obj){
        var qqShareURL="https://web.archive.org/web/20210302080933/http://connect.qq.com/widget/shareqq/index.html?";
        var weiboShareURL="https://web.archive.org/web/20210302080933/http://service.weibo.com/share/share.php?";
        var qzoneShareURL="https://web.archive.org/web/20210302080933/https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
        var facebookShareURL="https://web.archive.org/web/20210302080933/https://www.facebook.com/sharer/sharer.php?";
        var twitterShareURL="https://web.archive.org/web/20210302080933/https://twitter.com/intent/tweet?";
        var host_url="https://web.archive.org/web/20210302080933/https://fishesplace.com/2020/06/19/tile-vania-article/";
        var title='%E3%80%90%5BUnity%E8%87%AA%E5%AD%A6%5D%20Tile%20Vania%3A%20The%20Runner%20%282D%20platform%29%E3%80%91';
        var qqtitle='%E3%80%90%5BUnity%E8%87%AA%E5%AD%A6%5D%20Tile%20Vania%3A%20The%20Runner%20%282D%20platform%29%E3%80%91';
        var excerpt='Tile%20Vania%3A%20The%20Runner%20%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BF%AB%E8%8A%82%E5%A5%8F%E7%9A%84%E8%B7%91%E9%85%B7%E6%B8%B8%E6%88%8F%E3%80%82%E4%B8%BB%E8%A7%92%E8%A1%8C%E5%8A%A8%E7%81%B5%E6%95%8F%E5%92%8C%E8%BF%85%E9%80%9F%EF%BC%8C%E4%BB%96%E4%B8%BA%E4%BA%86%E8%AF%81%E6%98%8E%E8%87%AA%E5%B7%B1%E6%98%AF%E6%9C%80%E5%BF%AB%E7%9A%84%E8%B7%91%E8%80%85%E8%B8%8F%E4%B8%8A%E4%BA%86%E8%AF%95%E7%82%BC%E4%B9%8B%E8%B7%AF%E3%80%82%E6%AC%A2%E8%BF%8E%E5%9C%A8%E6%88%91%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%95%99%E4%B8%8B%E4%BD%A0%E4%BB%AC%E7%9A%84%E5%90%8D%E5%AD%97%E5%92%8C%E6%96%B0%E7%9A%84%E8%AE%B0%E5%BD%95%EF%BC%81%20%E5%81%9A%E8%BF%99%E6%AC%BE%E5%B0%8F%E6%B8%B8%E6%88%8F%E8%8A%B1%E4%BA%86%E6%AF%94%E9%A2%84%E6%83%B3%E7%9A%84%E8%A6%81%E5%B0%B1%E5%BE%97%E5%A4%9A%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82%E4%BE%9D%E6%97%A7%E6%98%AF%E8%87%AA%E5%B7%B1%E5%86%99%E7%A8%8B%E5%BA%8F%EF%BC%8C%E6%83%B3%E5%85%B3%E5%8D%A1%E3%80%82%E4%BA%BA%E7%89%A9%E5%92%8Ctilemap%E7%9A%84%E7%BE%8E%E6%9C%AF%E8%B5%84%E6%BA%90%E6%98%AFUnity%20Asset%20Store%E9%87%8C%E9%9D%A2%E7%9A%84%EF%BC%8C%E5%89%A9%E4%B8%8B%E7%9A%84%E5%B0%8F%E9%83%A8%E4%BB%B6%E6%98%AF%E8%87%AA%E5%B7%B1%E7%94%BB%E7%9A%84%E2%80%A6%E2%80%A6';
        var wbexcerpt='Tile%20Vania%3A%20The%20Runner%20%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BF%AB%E8%8A%82%E5%A5%8F%E7%9A%84%E8%B7%91%E9%85%B7%E6%B8%B8%E6%88%8F%E3%80%82%E4%B8%BB%E8%A7%92%E8%A1%8C%E5%8A%A8%E7%81%B5%E6%95%8F%E5%92%8C%E8%BF%85%E9%80%9F%EF%BC%8C%E4%BB%96%E4%B8%BA%E4%BA%86%E8%AF%81%E6%98%8E%E8%87%AA%E5%B7%B1%E6%98%AF%E6%9C%80%E5%BF%AB%E7%9A%84%E8%B7%91%E8%80%85%E8%B8%8F%E4%B8%8A%E4%BA%86%E8%AF%95%E7%82%BC%E4%B9%8B%E8%B7%AF%E3%80%82%E6%AC%A2%E8%BF%8E%E5%9C%A8%E6%88%91%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%95%99%E4%B8%8B%E4%BD%A0%E4%BB%AC%E7%9A%84%E5%90%8D%E5%AD%97%E5%92%8C%E6%96%B0%E7%9A%84%E8%AE%B0%E5%BD%95%EF%BC%81%20%E5%81%9A%E8%BF%99%E6%AC%BE%E5%B0%8F%E6%B8%B8%E6%88%8F%E8%8A%B1%E4%BA%86%E6%AF%94%E9%A2%84%E6%83%B3%E7%9A%84%E8%A6%81%E5%B0%B1%E5%BE%97%E5%A4%9A%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82%E4%BE%9D%E6%97%A7%E6%98%AF%E8%87%AA%E5%B7%B1%E5%86%99%E7%A8%8B%E5%BA%8F%EF%BC%8C%E6%83%B3%E5%85%B3%E5%8D%A1%E3%80%82%E4%BA%BA%E7%89%A9%E5%92%8Ctilemap%E7%9A%84%E7%BE%8E%E6%9C%AF%E8%B5%84%E6%BA%90%E6%98%AFUnity%20Asset%20Store%E9%87%8C%E9%9D%A2%E7%9A%84%EF%BC%8C%E5%89%A9%E4%B8%8B%E7%9A%84%E5%B0%8F%E9%83%A8%E4%BB%B6%E6%98%AF%E8%87%AA%E5%B7%B1%E7%94%BB%E7%9A%84%E2%80%A6%E2%80%A6';
        var pic="https://web.archive.org/web/20210302080933/https://fishesplace.com/wp-content/uploads/2020/06/screenshot.png";
        var _URL;
        if(obj=="qq"){
            _URL=qqShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="weibo"){
            _URL=weiboShareURL+"url="+host_url+"&title="+title+wbexcerpt+"&pic="+pic;
        }else if(obj=="qzone"){
            _URL=qzoneShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="facebook"){
             _URL=facebookShareURL+"u="+host_url;
        }else if(obj=="twitter"){
             _URL=twitterShareURL+"text="+title+excerpt+"&url="+host_url;
        }
        window.open(_URL);
    }
    </script>
</div>                </div>
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                    <a>No Tag</a>                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020年6月20日</span>
                    </div>
                </div>
            </footer>
        </div>
        <nav class="navigation post-navigation clearfix" role="navigation">
                        <div class="nav-previous clearfix">
                <a title="[Unity 2D Platform] 如何用Unity的原生物理系统实现更好的跳跃手感？" href="https://web.archive.org/web/20210302080933/https://fishesplace.com/2020/06/17/unity-better-jump-control/">&lt; 上一篇</a>
            </div>
                        <div class="nav-next">
                <a title="[Unity 2D Platform] 让人物移动拥有精确加速度和减速度的代码" href="https://web.archive.org/web/20210302080933/https://fishesplace.com/2020/06/20/accurate-running-control/">下一篇 &gt;</a>
            </div>
                    </nav>
        <div id="comments" class="comments-area">
    <ol class="comment-list">
    </ol>	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/web/20210302080933/https://fishesplace.com/2020/06/19/tile-vania-article/#respond" style="display:none;">取消回复</a></small></h4><form action="https://web.archive.org/web/20210302080933/https://fishesplace.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">电子邮件地址不会被公开。必填项已用 * 标注</p><div class="comment form-group has-feedback"><div class="input-group"><textarea class="form-control" id="comment" placeholder="鼓励一下还在国外没有工作的Xinyu吧|´・ω・)~" name="comment" rows="5" aria-required="true" required="" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById('submit').click();return false}};"></textarea></div><div class="OwO"></div></div><div class="comment-form-author form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-user"></i></div><input class="form-control" placeholder="昵称" id="author" name="author" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-email form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input class="form-control" placeholder="邮箱" id="email" name="email" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-key"></i></div><input class="form-control" placeholder="人机验证：3 ＋ 5 = ?" id="code" name="code" type="text" value="" autocomplete="off" size="30"><span class="form-control-feedback required">*</span><input type="hidden" name="co_num1" value="4"><input type="hidden" name="co_num2" value="7"></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-link"></i></div><input class="form-control" placeholder="网站" id="url" name="url" type="text" value="" size="30"></div></div>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-primary" value="发表评论"> <input type="hidden" name="comment_post_ID" value="82" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	</div>    </article>
    </section>
        </div>    </div>
</div>
                <footer>
                    <div id="footer" style="background:rgba(35,40,45,0.4)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                                    <p class="kratos-social-icons"><a target="_blank" rel="nofollow" href="https://web.archive.org/web/20210302080933/mailto:xinyu@fishesplace.com"><i class="fa fa-envelope"></i></a>                                    </p>
                                    <p> © 2021 <a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/">鱼之家</a>. All Rights Reserved. | 已在风雨中度过 <span id="span_dt_dt">Loading...</span><br>Theme <a href="https://web.archive.org/web/20210302080933/https://moedog.org/" target="_blank" rel="nofollow">Kratos-pjax Made by Moedog</a> Modifying by Xinyu himself | <a href="https://web.archive.org/web/20210302080933/https://fishesplace.com/sitemap.html" target="_blank">Sitemap</a>                                                                        </p>
                                </div>
                            </div>
                        </div>
                        <div class="cd-tool text-center">
                                                        <div class="gotop-box"><div class="gotop-btn"><span class="fa fa-chevron-up"></span></div></div>
                                                        <div class="search-box">
                                <span class="fa fa-search"></span>
                                <form class="search-form" role="search" method="get" id="searchform" action="https://web.archive.org/web/20210302080933/https://fishesplace.com/">
                                    <input type="text" name="s" id="search" placeholder="Search..." style="display:none">
                                </form>
                            </div>
                        </div>
                                            </div>
                </footer>
            </div>
        </div>
---
<div id="kratos-wrapper">
            <div id="kratos-page">
                <div id="kratos-header">
                                        <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                                        <header id="kratos-header-section">
                        <div class="container">
                            <div class="nav-header">
                                                                <nav id="kratos-menu-wrap" class="menu-menu-1-container"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/">首页</a></li>
<li><a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/about-xinyu/">关于Xinyu</a></li>
</ul></nav>                            </div>
                        </div>
                    </header>
                </div>
                                <div class="kratos-start kratos-hero-2">
                    <div class="kratos-overlay"></div>
                    <div class="kratos-cover kratos-cover_2 text-center">
                        <div class="desc desc2 animate-box">
                            <a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/"><h2></h2><br><span></span></a>
                        </div>
                    </div>
                </div>
                                <div id="kratos-blog-post">    <div id="container" class="container">
        <div class="row">
        <aside id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm scrollspy">
    <div id="sidebar" class="affix-top">
        <aside id="kratos_about-2" class="widget widget_kratos_about clearfix">        <div class="photo-background">
            <div class="photo-background" style="background:url(https://web.archive.org/web/20210302082826im_/https://fishesplace.com/pics/self_intro_bg.png) no-repeat center center;-webkit-background-size:cover;background-size:cover"></div>
        </div>
                <div class="photo-wrapper clearfix">
            <div class="photo-wrapper-tip text-center">
                <a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/wp-login.php?redirect_to=https%3A%2F%2Ffishesplace.com%2F2020%2F06%2F17%2Funity-better-jump-control%2F" rel="nofollow"><img class="about-photo" src="https://web.archive.org/web/20210302082826im_/https://fishesplace.com/pics/self_intro_icon.png" alt=""></a>
            </div>
        </div>
        <div class="textwidget">
            <p class="text-center">数据分析/管理；机器学习；Programmer</p>
        </div></aside><aside id="categories-6" class="widget widget_categories clearfix"><h4 class="widget-title">文章分类</h4>		<ul>
				<li class="cat-item cat-item-7"><a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/category/shaders/">Shaders</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/category/tech/">技术</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/category/%e6%b8%b8%e6%88%8f/">游戏</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/category/project/">项目</a> (2)
</li>
	<li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/category/uncategorized/">默认分类</a> (2)
</li>
		</ul>
			</aside>    </div>
</aside>
<section id="main" class="col-md-8">
        <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">[Unity 2D Platform] 如何用Unity的原生物理系统实现更好的跳跃手感？</h1>
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020年6月17日                    <i class="fa fa-commenting-o"></i> 0条评论                    <i class="fa fa-eye"></i> 714次阅读  
                    <span class="hd">
                    <i class="fa fa-thumbs-o-up"></i> 0人点赞                    <i class="fa fa-user"></i> xinyu                    </span>
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
            
<p>看到<a href="https://web.archive.org/web/20210302082826/https://www.youtube.com/watch?v=yorTG9at90g" target="_blank" rel="nofollow">GMTK</a>总结Celeste跳跃手感如何优秀以后，我突然意识到虽然几行代码可以实现跳跃效果，但是操作手感缺实在稀烂。于是我找到了<a href="https://web.archive.org/web/20210302082826/https://indienova.com/indie-game-development/2d-platformer-better-game-feel/" target="_blank" rel="nofollow">这篇文章</a>，然后用几种方法实现了它们（肯定也有更好的方法）。Unity原生的物理系统虽然很难做到对跳跃达到最高速度和降速的帧级精准控制，但是下面几个小tricks也可以帮助人物的跳跃手感提升不少：</p>



<p><strong>1.跳跃输入容差：</strong>“我的跳跃键被吃了？！”</p>



<p></p><center><img class="wp-image-71" style="width: 500px;" src="https://web.archive.org/web/20210302082826im_/https://fishesplace.com/wp-content/uploads/2020/06/0b7f93399be7dfe2b1224954c52f234.png" alt="" srcset="https://web.archive.org/web/20210302082826im_/https://fishesplace.com/wp-content/uploads/2020/06/0b7f93399be7dfe2b1224954c52f234.png 797w, https://web.archive.org/web/20210302082826im_/https://fishesplace.com/wp-content/uploads/2020/06/0b7f93399be7dfe2b1224954c52f234-300x123.png 300w, https://web.archive.org/web/20210302082826im_/https://fishesplace.com/wp-content/uploads/2020/06/0b7f93399be7dfe2b1224954c52f234-768x315.png 768w, https://web.archive.org/web/20210302082826im_/https://fishesplace.com/wp-content/uploads/2020/06/0b7f93399be7dfe2b1224954c52f234-750x308.png 750w" sizes="(max-width: 797px) 100vw, 797px"></center><p></p>



<p>以我自己正在难产的Tile Vania为例，我们想要让人物即使没有完全落地之前（通常只差几帧），就可以正常按下空格键起跳，给玩家一个容错的空间。最普通的</p>


<pre class="brush: csharp; title: ; notranslate" title="">bool isOnGround = myCollider2D.IsTouchingLayers(LayerMask.GetMask("Ground"));

</pre>


<p>肯定达不到效果。我用的替代思路是让人物朝脚下RayCast，若距离超过一个定值就判定落地。但仍然有两个小问题：1. 第一次从地面跳跃的次数没有计算；2. 不能时限帧级的落地控制，留给玩家的容错时间随人物落地速度而变化。</p>


<pre class="brush: csharp; title: ; notranslate" title="">    
public bool IsPlayerOnGround()
    {
        int layerMask = (LayerMask.GetMask("Foreground")); // foreground
        RaycastHit2D hit = Physics2D.Raycast(transform.position, Vector2.down, 
Mathf.Infinity, layerMask);
        if (hit.collider != null)
        {
            if (hit.distance &lt;= distanceOfPlayerModelToGround)
            {
                return true;
            }
        }
        return false;
    }

</pre>


<p></p>



<p>第二种增加容差的技巧是实现<strong>Coyote Jump / Coyote Time</strong>：人物即使晚几帧已掉落平台，也可按下跳跃键。我实习的方法是：1. 固定游戏帧数(也可将代码移动至<code>FixedUpdate()</code>方法内实现)；2. 记录<code>wasOnGround</code>的状态，然后在<code>Coroutine</code>之内延迟改变<code>isOnGround</code>。如果<code>float jumpCoyoteTime=0.05f;</code>并且<code>float maxFrameRate=60f;</code>那么在帧数跑满的情况下我们就增加了3帧的容错时间。</p>



<p></p><center><img class="wp-image-73" style="width: 300px;" src="https://web.archive.org/web/20210302082826im_/https://fishesplace.com/wp-content/uploads/2020/06/1e10efb44801dd431c77f9ad33223c9.png" alt="" srcset="https://web.archive.org/web/20210302082826im_/https://fishesplace.com/wp-content/uploads/2020/06/1e10efb44801dd431c77f9ad33223c9.png 508w, https://web.archive.org/web/20210302082826im_/https://fishesplace.com/wp-content/uploads/2020/06/1e10efb44801dd431c77f9ad33223c9-300x193.png 300w" sizes="(max-width: 508px) 100vw, 508px"><a href="https://web.archive.org/web/20210302082826/https://www.yoyogames.com/blog/544/flynn-advanced-jump-mechanics" target="_blank" rel="nofollow">Coyote Jump</a></center><p></p>


<pre class="brush: csharp; title: ; notranslate" title="">void Awake()
{
        if (limitFrameRate)
        {
            QualitySettings.vSyncCount = 0;
            Application.targetFrameRate = maxFrameRate;
        }
}

void Update()
{
        // make a time slot where players can leave platform for several frames and then jump
        if (wasOnGround == true &amp;amp;&amp;amp; isOnGround == false)
        {
            // start counting the coroutine
            StartCoroutine(CoyoteJumpCoroutine());
        }
        else 
        {
            wasOnGround = isOnGround;
        }
}

    IEnumerator CoyoteJumpCoroutine()
    {
        isOnGround = true;
        yield return new WaitForSeconds(jumpCoyoteTime);
        isOnGround = false;
        wasOnGround = false;
    }
</pre>


<p><strong>2. 即将跳过平台 + 卡在直角边缘：</strong>“就差那么一丢丢！”</p>



<p></p><center><img class="wp-image-74" style="width: NaNpx;" src="https://web.archive.org/web/20210302082826im_/https://fishesplace.com/wp-content/uploads/2020/06/8752-1542208790.png" alt=""><a href="https://web.archive.org/web/20210302082826/https://indienova.com/indie-game-development/2d-platformer-better-game-feel/" target="_blank" rel="nofollow">卡...卡住了</a></center><p></p>



<p>解决2D platform里面人物跳到跳板边缘时候的尴尬情况其实也是在给玩家更大的容错空间。用上下两个2D Box Collider固然可以，但是我们无法在代码中辨别Box Collider哪一个在上，哪一个在下。于是还是用RayCast解决吧：</p>


<pre class="brush: csharp; title: ; notranslate" title="">    private void CheckIfStuckByRayAndBoost()
    {
        // if the body stuck in middle wall

        int layerMask = LayerMask.GetMask("Foreground"); // foreground
        Vector2 upperOffsetPosition = transform.position;
        upperOffsetPosition.y += upperBodyRayOffset;
        Vector2 lowerOffsetPosition = transform.position;
        lowerOffsetPosition.y += lowerBodyRayOffset;
        RaycastHit2D upperHitLeft = Physics2D.Raycast(upperOffsetPosition, Vector2.left, detectRangeWhenBodyStucked, layerMask);
        RaycastHit2D upperHitRight = Physics2D.Raycast(upperOffsetPosition, Vector2.right, detectRangeWhenBodyStucked, layerMask);
        RaycastHit2D lowerHitLeft = Physics2D.Raycast(lowerOffsetPosition, Vector2.left, detectRangeWhenBodyStucked, layerMask);
        RaycastHit2D lowerHitRight = Physics2D.Raycast(lowerOffsetPosition, Vector2.right, detectRangeWhenBodyStucked, layerMask);
        isnudging = false;
        bool isnudgingRight = false;
        if (upperHitLeft.collider == null &amp;amp;&amp;amp; lowerHitLeft.collider != null &amp;amp;&amp;amp; Mathf.Approximately(transform.localScale.x, -1f))
        {
            isnudging = true;
        }
        else if (lowerHitRight.collider != null &amp;amp;&amp;amp; upperHitRight.collider == null &amp;amp;&amp;amp; Mathf.Approximately(transform.localScale.x, 1f))
        {
            isnudging = true;
            isnudgingRight = false;
        }

        // when stucked in mid way then detect key input and nudge player slowly up
        if (isnudging==true &amp;amp;&amp;amp; ( Mathf.Abs(Input.GetAxis("Vertical"))&gt;=constantRunningSpeedThreshold || Input.GetButton("Jump"))
            &amp;amp;&amp;amp; curJumpTimes==maxJumpTimes-1)
        {
            Vector2 curSpeed = myRigidBody.velocity;
            curSpeed.y = nudgingUpwardSpeed;
            curSpeed.x = nudgingHorizontalSpeed * (isnudgingRight ? 1 : 0);
            myRigidBody.velocity = curSpeed;
        }

    }
</pre>


<p>思路大体是<code>if (人物头顶的射线没有碰到障碍&amp;&amp;脚底射线碰到障碍的时候&amp;&amp;没有跳跃机会）</code>，那么就对人物施加一个向上的速度和贴边的速度，也可用<code>AddForce()</code>来实现。</p>



<p><strong>3. 把控不够，特效来凑：</strong>“如果你感觉有点怪，就加点Particle System吧！”</p>



<p>我们可以继续加上：<strong>1. 镜头晃动 2. 跳跃时的Particle System 3.人物空中叠影</strong>。这些都齐活之后操作起来已经够炫酷啦！</p>


<pre class="brush: plain; title: ; notranslate" title="">// Coroutine to shake virtual camera in Cinemachine.
//Remember to pick the channel perlin object and 6D shake first!
    IEnumerator ShakeCameraCoroutine(float amplitudeGain, float frequencyGain, float shakeTime)
    {
        float formerAmpe = 0f;
        float formerFreq = 0f;
        CinemachineVirtualCamera vcam = GameObject.Find(myCachedCinemachineStateDrivenCam.LiveChild.Name).GetComponent&lt;CinemachineVirtualCamera&gt;();
        CinemachineBasicMultiChannelPerlin noise = vcam.GetCinemachineComponent&lt;CinemachineBasicMultiChannelPerlin&gt;();
        //formerAmpe = noise.m_AmplitudeGain;
        //formerFreq = noise.m_FrequencyGain;
        noise.m_FrequencyGain = frequencyGain;
        noise.m_AmplitudeGain = amplitudeGain;
        yield return new WaitForSeconds(shakeTime);
        noise.m_AmplitudeGain = formerAmpe;
        noise.m_FrequencyGain = formerFreq;
    }

</pre>


<p></p><center><img class="wp-image-75" style="width: 150px;" src="https://web.archive.org/web/20210302082826im_/https://fishesplace.com/wp-content/uploads/2020/06/ac1b536efc654fdc7b96110bdedad2f.png" alt=""><a>此刻一位靓仔跳过</a></center><p></p>
            </div>
                        <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://web.archive.org/web/20210302082826/http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
                        <footer class="kratos-entry-footer clearfix">
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                                   <a href="javascript:;" id="btn" data-action="love" data-id="68" class="Love"><i class="fa fa-thumbs-o-up"></i> 点赞</a>
                <a href="javascript:;" class="Share"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain twitter" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode"><img src="https://web.archive.org/web/20210302082826im_/https://api.fczbl.vip/qr/?m=0&amp;url=https://fishesplace.com/2020/06/17/unity-better-jump-control/" width="150" height="150"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
    </div>
    <script type="text/javascript">
    function share(obj){
        var qqShareURL="https://web.archive.org/web/20210302082826/http://connect.qq.com/widget/shareqq/index.html?";
        var weiboShareURL="https://web.archive.org/web/20210302082826/http://service.weibo.com/share/share.php?";
        var qzoneShareURL="https://web.archive.org/web/20210302082826/https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
        var facebookShareURL="https://web.archive.org/web/20210302082826/https://www.facebook.com/sharer/sharer.php?";
        var twitterShareURL="https://web.archive.org/web/20210302082826/https://twitter.com/intent/tweet?";
        var host_url="https://web.archive.org/web/20210302082826/https://fishesplace.com/2020/06/17/unity-better-jump-control/";
        var title='%E3%80%90%5BUnity%202D%20Platform%5D%20%E5%A6%82%E4%BD%95%E7%94%A8Unity%E7%9A%84%E5%8E%9F%E7%94%9F%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0%E6%9B%B4%E5%A5%BD%E7%9A%84%E8%B7%B3%E8%B7%83%E6%89%8B%E6%84%9F%EF%BC%9F%E3%80%91';
        var qqtitle='%E3%80%90%5BUnity%202D%20Platform%5D%20%E5%A6%82%E4%BD%95%E7%94%A8Unity%E7%9A%84%E5%8E%9F%E7%94%9F%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0%E6%9B%B4%E5%A5%BD%E7%9A%84%E8%B7%B3%E8%B7%83%E6%89%8B%E6%84%9F%EF%BC%9F%E3%80%91';
        var excerpt='%E7%9C%8B%E5%88%B0GMTK%E6%80%BB%E7%BB%93Celeste%E8%B7%B3%E8%B7%83%E6%89%8B%E6%84%9F%E5%A6%82%E4%BD%95%E4%BC%98%E7%A7%80%E4%BB%A5%E5%90%8E%EF%BC%8C%E6%88%91%E7%AA%81%E7%84%B6%E6%84%8F%E8%AF%86%E5%88%B0%E8%99%BD%E7%84%B6%E5%87%A0%E8%A1%8C%E4%BB%A3%E7%A0%81%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E8%B7%B3%E8%B7%83%E6%95%88%E6%9E%9C%EF%BC%8C%E4%BD%86%E6%98%AF%E6%93%8D%E4%BD%9C%E6%89%8B%E6%84%9F%E7%BC%BA%E5%AE%9E%E5%9C%A8%E7%A8%80%E7%83%82%E3%80%82%E4%BA%8E%E6%98%AF%E6%88%91%E6%89%BE%E5%88%B0%E4%BA%86%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0%EF%BC%8C%E7%84%B6%E5%90%8E%E7%94%A8%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%AE%83%E4%BB%AC%EF%BC%88%E8%82%AF%E5%AE%9A%E4%B9%9F%E6%9C%89%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%89%E3%80%82Unity%E5%8E%9F%E7%94%9F%E7%9A%84%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F%E8%99%BD%E7%84%B6%E5%BE%88%E9%9A%BE%E5%81%9A%E5%88%B0%E5%AF%B9%E8%B7%B3%E8%B7%83%E8%BE%BE%E5%88%B0%E6%9C%80%E9%AB%98%E9%80%9F%E5%BA%A6%E5%92%8C%E9%99%8D%E9%80%9F%E7%9A%84%E5%B8%A7%E7%BA%A7%E7%B2%BE%E5%87%86%E6%8E%A7%E5%88%B6%EF%BC%8C%E4%BD%86%E6%98%AF%E4%B8%8B%E9%9D%A2%E5%87%A0%E4%B8%AA%E5%B0%8Ftricks%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%B8%AE%E5%8A%A9%E4%BA%BA%E7%89%A9%E7%9A%84%E8%B7%B3%E8%B7%83%E6%89%8B%E6%84%9F%E6%8F%90%E5%8D%87%E4%B8%8D%E5%B0%91%EF%BC%9A%201.%E8%B7%B3%E8%B7%83%E8%BE%93%E5%85%A5%E5%AE%B9%E2%80%A6%E2%80%A6';
        var wbexcerpt='%E7%9C%8B%E5%88%B0GMTK%E6%80%BB%E7%BB%93Celeste%E8%B7%B3%E8%B7%83%E6%89%8B%E6%84%9F%E5%A6%82%E4%BD%95%E4%BC%98%E7%A7%80%E4%BB%A5%E5%90%8E%EF%BC%8C%E6%88%91%E7%AA%81%E7%84%B6%E6%84%8F%E8%AF%86%E5%88%B0%E8%99%BD%E7%84%B6%E5%87%A0%E8%A1%8C%E4%BB%A3%E7%A0%81%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E8%B7%B3%E8%B7%83%E6%95%88%E6%9E%9C%EF%BC%8C%E4%BD%86%E6%98%AF%E6%93%8D%E4%BD%9C%E6%89%8B%E6%84%9F%E7%BC%BA%E5%AE%9E%E5%9C%A8%E7%A8%80%E7%83%82%E3%80%82%E4%BA%8E%E6%98%AF%E6%88%91%E6%89%BE%E5%88%B0%E4%BA%86%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0%EF%BC%8C%E7%84%B6%E5%90%8E%E7%94%A8%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%AE%83%E4%BB%AC%EF%BC%88%E8%82%AF%E5%AE%9A%E4%B9%9F%E6%9C%89%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%89%E3%80%82Unity%E5%8E%9F%E7%94%9F%E7%9A%84%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F%E8%99%BD%E7%84%B6%E5%BE%88%E9%9A%BE%E5%81%9A%E5%88%B0%E5%AF%B9%E8%B7%B3%E8%B7%83%E8%BE%BE%E5%88%B0%E6%9C%80%E9%AB%98%E9%80%9F%E5%BA%A6%E5%92%8C%E9%99%8D%E9%80%9F%E7%9A%84%E5%B8%A7%E7%BA%A7%E7%B2%BE%E5%87%86%E6%8E%A7%E5%88%B6%EF%BC%8C%E4%BD%86%E6%98%AF%E4%B8%8B%E9%9D%A2%E5%87%A0%E4%B8%AA%E5%B0%8Ftricks%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%B8%AE%E5%8A%A9%E4%BA%BA%E7%89%A9%E7%9A%84%E8%B7%B3%E8%B7%83%E6%89%8B%E6%84%9F%E6%8F%90%E5%8D%87%E4%B8%8D%E5%B0%91%EF%BC%9A%201.%E8%B7%B3%E8%B7%83%E8%BE%93%E5%85%A5%E5%AE%B9%E2%80%A6%E2%80%A6';
        var pic="https://web.archive.org/web/20210302082826/https://fishesplace.com/wp-content/uploads/2020/06/0b7f93399be7dfe2b1224954c52f234.png";
        var _URL;
        if(obj=="qq"){
            _URL=qqShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="weibo"){
            _URL=weiboShareURL+"url="+host_url+"&title="+title+wbexcerpt+"&pic="+pic;
        }else if(obj=="qzone"){
            _URL=qzoneShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="facebook"){
             _URL=facebookShareURL+"u="+host_url;
        }else if(obj=="twitter"){
             _URL=twitterShareURL+"text="+title+excerpt+"&url="+host_url;
        }
        window.open(_URL);
    }
    </script>
</div>                </div>
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                    <a>No Tag</a>                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020年6月20日</span>
                    </div>
                </div>
            </footer>
        </div>
        <nav class="navigation post-navigation clearfix" role="navigation">
                        <div class="nav-previous clearfix">
                <a title="[课程项目] 深度学习： 由诊断结论生成正側面胸部CT/X光图像" href="https://web.archive.org/web/20210302082826/https://fishesplace.com/2020/06/16/x-ray-gan-project/">&lt; 上一篇</a>
            </div>
                        <div class="nav-next">
                <a title="[Unity自学] Tile Vania: The Runner (2D platform)" href="https://web.archive.org/web/20210302082826/https://fishesplace.com/2020/06/19/tile-vania-article/">下一篇 &gt;</a>
            </div>
                    </nav>
        <div id="comments" class="comments-area">
    <ol class="comment-list">
    </ol>	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/web/20210302082826/https://fishesplace.com/2020/06/17/unity-better-jump-control/#respond" style="display:none;">取消回复</a></small></h4><form action="https://web.archive.org/web/20210302082826/https://fishesplace.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">电子邮件地址不会被公开。必填项已用 * 标注</p><div class="comment form-group has-feedback"><div class="input-group"><textarea class="form-control" id="comment" placeholder="鼓励一下还在国外没有工作的Xinyu吧|´・ω・)~" name="comment" rows="5" aria-required="true" required="" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById('submit').click();return false}};"></textarea></div><div class="OwO"></div></div><div class="comment-form-author form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-user"></i></div><input class="form-control" placeholder="昵称" id="author" name="author" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-email form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input class="form-control" placeholder="邮箱" id="email" name="email" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-key"></i></div><input class="form-control" placeholder="人机验证：4 ＋ 2 = ?" id="code" name="code" type="text" value="" autocomplete="off" size="30"><span class="form-control-feedback required">*</span><input type="hidden" name="co_num1" value="5"><input type="hidden" name="co_num2" value="4"></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-link"></i></div><input class="form-control" placeholder="网站" id="url" name="url" type="text" value="" size="30"></div></div>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-primary" value="发表评论"> <input type="hidden" name="comment_post_ID" value="68" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	</div>    </article>
    </section>
        </div>    </div>
</div>
                <footer>
                    <div id="footer" style="background:rgba(35,40,45,0.4)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                                    <p class="kratos-social-icons"><a target="_blank" rel="nofollow" href="https://web.archive.org/web/20210302082826/mailto:xinyu@fishesplace.com"><i class="fa fa-envelope"></i></a>                                    </p>
                                    <p> © 2021 <a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/">鱼之家</a>. All Rights Reserved. | 已在风雨中度过 <span id="span_dt_dt">Loading...</span><br>Theme <a href="https://web.archive.org/web/20210302082826/https://moedog.org/" target="_blank" rel="nofollow">Kratos-pjax Made by Moedog</a> Modifying by Xinyu himself | <a href="https://web.archive.org/web/20210302082826/https://fishesplace.com/sitemap.html" target="_blank">Sitemap</a>                                                                        </p>
                                </div>
                            </div>
                        </div>
                        <div class="cd-tool text-center">
                                                        <div class="gotop-box"><div class="gotop-btn"><span class="fa fa-chevron-up"></span></div></div>
                                                        <div class="search-box">
                                <span class="fa fa-search"></span>
                                <form class="search-form" role="search" method="get" id="searchform" action="https://web.archive.org/web/20210302082826/https://fishesplace.com/">
                                    <input type="text" name="s" id="search" placeholder="Search..." style="display:none">
                                </form>
                            </div>
                        </div>
                                            </div>
                </footer>
            </div>
        </div>
---
<div id="kratos-wrapper">
            <div id="kratos-page">
                <div id="kratos-header">
                                        <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                                        <header id="kratos-header-section">
                        <div class="container">
                            <div class="nav-header">
                                                                <nav id="kratos-menu-wrap" class="menu-menu-1-container"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/">首页</a></li>
<li><a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/about-xinyu/">关于Xinyu</a></li>
</ul></nav>                            </div>
                        </div>
                    </header>
                </div>
                                <div class="kratos-start kratos-hero-2">
                    <div class="kratos-overlay"></div>
                    <div class="kratos-cover kratos-cover_2 text-center">
                        <div class="desc desc2 animate-box">
                            <a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/"><h2></h2><br><span></span></a>
                        </div>
                    </div>
                </div>
                                <div id="kratos-blog-post">    <div id="container" class="container">
        <div class="row">
        <aside id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm scrollspy">
    <div id="sidebar" class="affix-top">
        <aside id="kratos_about-2" class="widget widget_kratos_about clearfix">        <div class="photo-background">
            <div class="photo-background" style="background:url(https://web.archive.org/web/20210302081222im_/https://fishesplace.com/pics/self_intro_bg.png) no-repeat center center;-webkit-background-size:cover;background-size:cover"></div>
        </div>
                <div class="photo-wrapper clearfix">
            <div class="photo-wrapper-tip text-center">
                <a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/wp-login.php?redirect_to=https%3A%2F%2Ffishesplace.com%2F2020%2F06%2F16%2Fx-ray-gan-project%2F" rel="nofollow"><img class="about-photo" src="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/pics/self_intro_icon.png" alt=""></a>
            </div>
        </div>
        <div class="textwidget">
            <p class="text-center">数据分析/管理；机器学习；Programmer</p>
        </div></aside><aside id="categories-6" class="widget widget_categories clearfix"><h4 class="widget-title">文章分类</h4>		<ul>
				<li class="cat-item cat-item-7"><a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/category/shaders/">Shaders</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/category/tech/">技术</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/category/%e6%b8%b8%e6%88%8f/">游戏</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/category/project/">项目</a> (2)
</li>
	<li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/category/uncategorized/">默认分类</a> (2)
</li>
		</ul>
			</aside>    </div>
</aside>
<section id="main" class="col-md-8">
        <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">[课程项目] 深度学习： 由诊断结论生成正側面胸部CT/X光图像</h1>
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020年6月16日                    <i class="fa fa-commenting-o"></i> 0条评论                    <i class="fa fa-eye"></i> 516次阅读  
                    <span class="hd">
                    <i class="fa fa-thumbs-o-up"></i> 0人点赞                    <i class="fa fa-user"></i> xinyu                    </span>
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
            
<p><strong>摘要：</strong>这是一个深度学习的课程项目。我们用医生的X光胸片报告作为输入，最终输出高分辨率(256*256)的正側面X光胸片图。网络中多层<code>conditional GAN</code>的结构可以帮助我们依次获得更高分辨率的胸片图。结构主要包括了<code>Bilateral LSTMs; Conditional GAN; Siamese Network</code>。点击<a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/articles/ECE271B_X_rag_GAN.pdf">这里</a>查看pdf版报告。</p>



<p><strong>背景：</strong>这是阳形意和我的ECE 271B期末课程项目。我们的网络可以用医生的X胸片检查报告单(检查所见+诊断建议)来生成高分辨率和统一的胸片正面和侧面，可以解决医学生X光胸片诊断训练中样本不足、无特殊对应症状的难题。</p>



<center><figure class="wp-block-image size-large is-resized"><img src="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/f2e63d6239ee3b6be3b0142c7fc1a3a.png" alt="" class="wp-image-50" width="485" height="212" srcset="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/f2e63d6239ee3b6be3b0142c7fc1a3a.png 513w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/f2e63d6239ee3b6be3b0142c7fc1a3a-300x132.png 300w" sizes="(max-width: 485px) 100vw, 485px"><figcaption>胸片诊断训练示意说明</figcaption></figure></center>



<div class="wp-block-group"><div class="wp-block-group__inner-container">
<p><strong>模型结构：</strong>总体结构的草图如下。首先根据诊断意见，我们使用了<code>Hierarchical Attentional Encoder (Attentional Word-level LSTM + Attentional Sentence-level LSTM)</code>将它转换成一个向量<code>c</code>。然后将其作为第一层两个<code>GAN</code>的输入，产生32*32的正侧面X光胸片。第二层由第一层<code>Generator</code>的结果和向量<code>c</code>作为输入，经过<code>conditional GAN</code>生成64*64的图片。由此共四层最终生成256*256的胸片。数据方面使用的是<a href="https://web.archive.org/web/20210302081222/https://pubmed.ncbi.nlm.nih.gov/26133894/" target="_blank" rel="nofollow">Open-i</a>和<a href="https://web.archive.org/web/20210302081222/https://arxiv.org/abs/1901.07042" target="_blank" rel="nofollow">MIMIC-CXR</a>两个databases.</p>
</div></div>



<center><figure class="wp-block-image size-large is-resized"><img src="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/1752786c11b9442a316332909d9c149.png" alt="" class="wp-image-51" width="501" height="521" srcset="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/1752786c11b9442a316332909d9c149.png 657w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/1752786c11b9442a316332909d9c149-288x300.png 288w" sizes="(max-width: 501px) 100vw, 501px"><figcaption>图一：总体结构</figcaption></figure></center>



<p></p><center><img class="wp-image-61" style="width: 450px;" src="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_1.png" alt="" srcset="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_1.png 591w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_1-248x300.png 248w" sizes="(max-width: 591px) 100vw, 591px"><a>图二：LSTM</a></center><p></p>



<p></p><center><img class="wp-image-62" style="width: 550px;" src="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_2.png" alt="" srcset="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_2.png 831w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_2-300x251.png 300w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_2-768x641.png 768w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_2-750x626.png 750w" sizes="(max-width: 831px) 100vw, 831px"><a>图三：conditional GAN</a><img class="wp-image-63" style="width: 550px;" src="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_3.png" alt="" srcset="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_3.png 998w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_3-300x98.png 300w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_3-768x252.png 768w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/struct_detail_3-750x246.png 750w" sizes="(max-width: 998px) 100vw, 998px"><a>图四：Siamese Network</a></center><p></p>



<p><strong>损失函数：</strong>损失函数由三部分构成：</p>



<p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-4"><span class="MJXp-munderover" id="MJXp-Span-5"><span class=""><span class="MJXp-mo" id="MJXp-Span-6" style="margin-left: 0.333em; margin-right: 0.333em;">min</span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-7" style="margin-left: 0px;"><span class="MJXp-msubsup" id="MJXp-Span-8"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9" style="margin-right: 0.05em;">G</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-10" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-11">(</span><span class="MJXp-mn" id="MJXp-Span-12">1</span><span class="MJXp-mo" id="MJXp-Span-13">,</span><span class="MJXp-mo" id="MJXp-Span-14">…</span><span class="MJXp-mo" id="MJXp-Span-15">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">n</span><span class="MJXp-mo" id="MJXp-Span-17">)</span></span></span></span></span></span><span class="MJXp-munderover" id="MJXp-Span-18"><span class=""><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0.333em; margin-right: 0.333em;">max</span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-20" style="margin-left: 0px;"><span class="MJXp-msubsup" id="MJXp-Span-21"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22" style="margin-right: 0.05em;">D</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-23" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-24">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">n</span><span class="MJXp-mo" id="MJXp-Span-26">)</span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-27"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28" style="margin-right: 0.05em;">L</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">v</span></span></span><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-34"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35" style="margin-right: 0.05em;">λ</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-36" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">t</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-41"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42" style="margin-right: 0.05em;">L</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-43" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47">t</span></span></span><span class="MJXp-mo" id="MJXp-Span-48" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-49"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50" style="margin-right: 0.05em;">λ</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-51" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">c</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-54"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55" style="margin-right: 0.05em;">L</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-56" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">c</span></span></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-1">\begin{equation} \min_{G^{(1,\dots,n)}} \max_{D^{(n)}} L_{adv}+\lambda_{cont} L_{cont}+\lambda_{vc}L_{vc} \label{total loss} \end{equation}</script></p>



<p><code>Adversarial Loss (Improved Wasserstein GAN loss with gradient penality); Content Loss (pixel wise difference); Bi-planer View Consistency Loss</code></p>



<p>他们具体分别是</p>



<p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-59"><span class="MJXp-msubsup" id="MJXp-Span-60"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61" style="margin-right: 0.05em;">L</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-62" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">v</span></span></span><span class="MJXp-mo" id="MJXp-Span-66" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-67"><span class="MJXp-mrow" id="MJXp-Span-68" style="margin-right: 0.05em;"><span class="MJXp-mi undefined" id="MJXp-Span-69">E</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-70" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-71"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-73" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-74">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">n</span><span class="MJXp-mo" id="MJXp-Span-76">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-77">∼</span><span class="MJXp-msubsup" id="MJXp-Span-78"><span class="MJXp-mrow" id="MJXp-Span-79" style="margin-right: 0.05em;"><span class="MJXp-mi undefined" id="MJXp-Span-80">P</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-81" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">a</span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-86" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-87"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88" style="margin-right: 0.05em;">D</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-89" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-90">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">n</span><span class="MJXp-mo" id="MJXp-Span-92">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-93" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-94"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-96" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-97">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">n</span><span class="MJXp-mo" id="MJXp-Span-99">)</span></span></span><span class="MJXp-mrow" id="MJXp-Span-100"><span class="MJXp-mo" id="MJXp-Span-101" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-102"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-103">c</span></span><span class="MJXp-mo" id="MJXp-Span-104" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-105" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-106" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-107"><span class="MJXp-mrow" id="MJXp-Span-108" style="margin-right: 0.05em;"><span class="MJXp-mi undefined" id="MJXp-Span-109">E</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-110" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-111"><span class="MJXp-mrow" id="MJXp-Span-112" style="margin-right: 0.05em;"><span class="MJXp-munderover" id="MJXp-Span-113"><span><span class="MJXp-over"><span class=" MJXp-script" style="margin-bottom: -1.17em;"><span class="MJXp-mo" id="MJXp-Span-115" style="margin-right: 0px; margin-left: 0px;">ˆ</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">x</span></span></span></span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-116" style="vertical-align: 0.524em;"><span class="MJXp-mo" id="MJXp-Span-117">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">n</span><span class="MJXp-mo" id="MJXp-Span-119">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-120">∼</span><span class="MJXp-msubsup" id="MJXp-Span-121"><span class="MJXp-mrow" id="MJXp-Span-122" style="margin-right: 0.05em;"><span class="MJXp-mi undefined" id="MJXp-Span-123">P</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-124" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">G</span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-126" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-127"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128" style="margin-right: 0.05em;">D</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-129" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-130">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">n</span><span class="MJXp-mo" id="MJXp-Span-132">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-133" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-134"><span class="MJXp-mrow" id="MJXp-Span-135" style="margin-right: 0.05em;"><span class="MJXp-munderover" id="MJXp-Span-136"><span><span class="MJXp-over"><span class="" style="margin-bottom: -1.17em;"><span class="MJXp-mo" id="MJXp-Span-138" style="margin-left: 0px; margin-right: 0px;">ˆ</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">x</span></span></span></span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-139" style="vertical-align: 0.524em;"><span class="MJXp-mo" id="MJXp-Span-140">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">n</span><span class="MJXp-mo" id="MJXp-Span-142">)</span></span></span><span class="MJXp-mrow" id="MJXp-Span-143"><span class="MJXp-mo" id="MJXp-Span-144" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-145"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-146">c</span></span><span class="MJXp-mo" id="MJXp-Span-147" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-148" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mspace" id="MJXp-Span-149" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-150" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-151"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152" style="margin-right: 0.05em;">λ</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-153" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-156" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mo" id="MJXp-Span-157" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-158"><span class="MJXp-mo" id="MJXp-Span-159" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-160"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161" style="margin-right: 0.05em;">D</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-162" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-163">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">n</span><span class="MJXp-mo" id="MJXp-Span-165">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-166" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">γ</span><span class="MJXp-msubsup" id="MJXp-Span-168"><span class="MJXp-mrow" id="MJXp-Span-169" style="margin-right: 0.05em;"><span class="MJXp-munderover" id="MJXp-Span-170"><span><span class="MJXp-over"><span class="" style="margin-bottom: -1.17em;"><span class="MJXp-mo" id="MJXp-Span-172" style="margin-left: 0px; margin-right: 0px;">ˆ</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">x</span></span></span></span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-173" style="vertical-align: 0.524em;"><span class="MJXp-mo" id="MJXp-Span-174">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">n</span><span class="MJXp-mo" id="MJXp-Span-176">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-177" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-178" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-179">1</span><span class="MJXp-mo" id="MJXp-Span-180" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">γ</span><span class="MJXp-mo" id="MJXp-Span-182" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-183"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-185" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-186">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">n</span><span class="MJXp-mo" id="MJXp-Span-188">)</span></span></span><span class="MJXp-mrow" id="MJXp-Span-189"><span class="MJXp-mo" id="MJXp-Span-190" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-191"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-192">c</span></span><span class="MJXp-mo" id="MJXp-Span-193" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-194"><span class="MJXp-mrow" id="MJXp-Span-195" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-196" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-197" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-198" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-199">1</span><span class="MJXp-msubsup" id="MJXp-Span-200"><span class="MJXp-mo" id="MJXp-Span-201" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-202" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-203" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex; mode=display" id="MathJax-Element-2">\begin{equation} L_{adv} = \mathbb{E}_{x^{(n)}\sim \mathbb{P}_{data}}[D^{(n)}(x^{(n)}|\mathbf{c})]-\mathbb{E}_{\hat{x}^{(n)}\sim \mathbb{P}_{G}}[D^{(n)}(\hat{x}^{(n)}|\mathbf{c})]\\ +\lambda_{gp}[(|D^{(n)}(\gamma\hat{x}^{(n)}+(1-\gamma)x^{(n)}|\mathbf{c})|_2-1)^2] \end{equation}</script></p>



<p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-204"><span class="MJXp-msubsup" id="MJXp-Span-205"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206" style="margin-right: 0.05em;">L</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-207" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">t</span></span></span><span class="MJXp-mo" id="MJXp-Span-212" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mfrac" id="MJXp-Span-213" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-214">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-215">2</span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-216"><span class="MJXp-mo" id="MJXp-Span-217" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-218"><span class="MJXp-mrow" id="MJXp-Span-219" style="margin-right: 0.05em;"><span class="MJXp-munderover" id="MJXp-Span-220"><span><span class="MJXp-over"><span class="" style="margin-bottom: -1.17em;"><span class="MJXp-mo" id="MJXp-Span-222" style="margin-left: 0px; margin-right: 0px;">ˆ</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">x</span></span></span></span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-223" style="vertical-align: 0.524em;"><span class="MJXp-mo" id="MJXp-Span-224">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">n</span><span class="MJXp-mo" id="MJXp-Span-226">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-227" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-228"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-230" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-231">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">n</span><span class="MJXp-mo" id="MJXp-Span-233">)</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-234"><span class="MJXp-mrow" id="MJXp-Span-235" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-237" style="vertical-align: 0.5em;">2</span></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-3">\begin{equation} L_{cont}=\frac{1}{2}|\hat{x}^{(n)}-x^{(n)}|^2 \end{equation}</script></p>



<p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-238"><span class="MJXp-msubsup" id="MJXp-Span-239"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240" style="margin-right: 0.05em;">L</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-241" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">c</span></span></span><span class="MJXp-mo" id="MJXp-Span-244" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">y</span><span class="MJXp-mi" id="MJXp-Span-246">log</span><span class="MJXp-mo" id="MJXp-Span-247" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-248" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-249"><span class="MJXp-munderover" id="MJXp-Span-250"><span><span class="MJXp-over"><span class="" style="margin-bottom: -1.17em;"><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0px; margin-right: 0px;">ˆ</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">y</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-253" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-257"><span class="MJXp-mo" id="MJXp-Span-258">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">n</span><span class="MJXp-mo" id="MJXp-Span-260">)</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">p</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-261" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-262"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-265"><span class="MJXp-mo" id="MJXp-Span-266">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">n</span><span class="MJXp-mo" id="MJXp-Span-268">)</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">l</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-269" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-270" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-271" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-272" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-273">1</span><span class="MJXp-mo" id="MJXp-Span-274" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">y</span><span class="MJXp-mo" id="MJXp-Span-276" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi" id="MJXp-Span-277">log</span><span class="MJXp-mo" id="MJXp-Span-278" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-279" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-280">1</span><span class="MJXp-mo" id="MJXp-Span-281" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mrow" id="MJXp-Span-282"><span class="MJXp-munderover" id="MJXp-Span-283"><span><span class="MJXp-over"><span class="" style="margin-bottom: -1.17em;"><span class="MJXp-mo" id="MJXp-Span-285" style="margin-left: 0px; margin-right: 0px;">ˆ</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">y</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-286" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-287"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-290"><span class="MJXp-mo" id="MJXp-Span-291">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">n</span><span class="MJXp-mo" id="MJXp-Span-293">)</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">p</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-294" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-295"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-298"><span class="MJXp-mo" id="MJXp-Span-299">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">n</span><span class="MJXp-mo" id="MJXp-Span-301">)</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">l</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-302" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-303" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex; mode=display" id="MathJax-Element-4">\begin{equation} L_{vc}=y\log(\hat{y}(x^{(n)}_p,x^{(n)}_l))+(1-y)\log(1-\hat{y}(x^{(n)}_p,x^{(n)}_l)) \end{equation}</script></p>



<blockquote class="wp-block-quote"><p>where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-304"><span class="MJXp-msubsup" id="MJXp-Span-305"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306" style="margin-right: 0.05em;">λ</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-307" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-310" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-311">10</span></span></span><script type="math/tex" id="MathJax-Element-5">\lambda_{gp}= 10</script> is a penalty coefficient and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-312"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">γ</span><span class="MJXp-mo" id="MJXp-Span-314" style="margin-left: 0.333em; margin-right: 0.333em;">∼</span><span class="MJXp-mrow" id="MJXp-Span-315"><span class="MJXp-mi MJXp-cal" id="MJXp-Span-316">G</span></span><span class="MJXp-mo" id="MJXp-Span-317" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-318">0</span><span class="MJXp-mo" id="MJXp-Span-319" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-320">1</span><span class="MJXp-mo" id="MJXp-Span-321" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-6">\gamma \sim \mathcal{G}(0,1)</script> is random mixing coefficient to blend the real and fake images.</p><p></p></blockquote>



<p><strong>实验结果：</strong></p>



<center><figure class="wp-block-image size-large"><img src="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/res1.png" alt="" class="wp-image-57" srcset="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/res1.png 751w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/res1-300x173.png 300w" sizes="(max-width: 751px) 100vw, 751px"><figcaption>图五：生成图像示例</figcaption></figure></center>



<center><figure class="wp-block-image size-large"><img src="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/res_metric.png" alt="" class="wp-image-58" srcset="https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/res_metric.png 524w, https://web.archive.org/web/20210302081222im_/https://fishesplace.com/wp-content/uploads/2020/06/res_metric-300x73.png 300w" sizes="(max-width: 524px) 100vw, 524px"><figcaption>图六：Evaluation Metrics</figcaption></figure></center>
            </div>
                        <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://web.archive.org/web/20210302081222/http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
                        <footer class="kratos-entry-footer clearfix">
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                                   <a href="javascript:;" id="btn" data-action="love" data-id="49" class="Love"><i class="fa fa-thumbs-o-up"></i> 点赞</a>
                <a href="javascript:;" class="Share"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain twitter" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode"><img src="https://web.archive.org/web/20210302081222im_/https://api.fczbl.vip/qr/?m=0&amp;url=https://fishesplace.com/2020/06/16/x-ray-gan-project/" width="150" height="150"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
    </div>
    <script type="text/javascript">
    function share(obj){
        var qqShareURL="https://web.archive.org/web/20210302081222/http://connect.qq.com/widget/shareqq/index.html?";
        var weiboShareURL="https://web.archive.org/web/20210302081222/http://service.weibo.com/share/share.php?";
        var qzoneShareURL="https://web.archive.org/web/20210302081222/https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
        var facebookShareURL="https://web.archive.org/web/20210302081222/https://www.facebook.com/sharer/sharer.php?";
        var twitterShareURL="https://web.archive.org/web/20210302081222/https://twitter.com/intent/tweet?";
        var host_url="https://web.archive.org/web/20210302081222/https://fishesplace.com/2020/06/16/x-ray-gan-project/";
        var title='%E3%80%90%5B%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE%5D%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%EF%BC%9A%20%E7%94%B1%E8%AF%8A%E6%96%AD%E7%BB%93%E8%AE%BA%E7%94%9F%E6%88%90%E6%AD%A3%E5%81%B4%E9%9D%A2%E8%83%B8%E9%83%A8CT%2FX%E5%85%89%E5%9B%BE%E5%83%8F%E3%80%91';
        var qqtitle='%E3%80%90%5B%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE%5D%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%EF%BC%9A%20%E7%94%B1%E8%AF%8A%E6%96%AD%E7%BB%93%E8%AE%BA%E7%94%9F%E6%88%90%E6%AD%A3%E5%81%B4%E9%9D%A2%E8%83%B8%E9%83%A8CT%2FX%E5%85%89%E5%9B%BE%E5%83%8F%E3%80%91';
        var excerpt='%E6%91%98%E8%A6%81%EF%BC%9A%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE%E3%80%82%E6%88%91%E4%BB%AC%E7%94%A8%E5%8C%BB%E7%94%9F%E7%9A%84X%E5%85%89%E8%83%B8%E7%89%87%E6%8A%A5%E5%91%8A%E4%BD%9C%E4%B8%BA%E8%BE%93%E5%85%A5%EF%BC%8C%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E9%AB%98%E5%88%86%E8%BE%A8%E7%8E%87%28256%2A256%29%E7%9A%84%E6%AD%A3%E5%81%B4%E9%9D%A2X%E5%85%89%E8%83%B8%E7%89%87%E5%9B%BE%E3%80%82%E7%BD%91%E7%BB%9C%E4%B8%AD%E5%A4%9A%E5%B1%82conditional%20GAN%E7%9A%84%E7%BB%93%E6%9E%84%E5%8F%AF%E4%BB%A5%E5%B8%AE%E5%8A%A9%E6%88%91%E4%BB%AC%E4%BE%9D%E6%AC%A1%E8%8E%B7%E5%BE%97%E6%9B%B4%E9%AB%98%E5%88%86%E8%BE%A8%E7%8E%87%E7%9A%84%E8%83%B8%E7%89%87%E5%9B%BE%E3%80%82%E7%BB%93%E6%9E%84%E4%B8%BB%E8%A6%81%E5%8C%85%E6%8B%AC%E4%BA%86Bilateral%20LSTMs%3B%20Conditional%20GAN%3B%20Siamese%20Network%E3%80%82%E7%82%B9%E5%87%BB%E8%BF%99%E9%87%8C%E6%9F%A5%E7%9C%8Bpdf%E2%80%A6%E2%80%A6';
        var wbexcerpt='%E6%91%98%E8%A6%81%EF%BC%9A%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE%E3%80%82%E6%88%91%E4%BB%AC%E7%94%A8%E5%8C%BB%E7%94%9F%E7%9A%84X%E5%85%89%E8%83%B8%E7%89%87%E6%8A%A5%E5%91%8A%E4%BD%9C%E4%B8%BA%E8%BE%93%E5%85%A5%EF%BC%8C%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E9%AB%98%E5%88%86%E8%BE%A8%E7%8E%87%28256%2A256%29%E7%9A%84%E6%AD%A3%E5%81%B4%E9%9D%A2X%E5%85%89%E8%83%B8%E7%89%87%E5%9B%BE%E3%80%82%E7%BD%91%E7%BB%9C%E4%B8%AD%E5%A4%9A%E5%B1%82conditional%20GAN%E7%9A%84%E7%BB%93%E6%9E%84%E5%8F%AF%E4%BB%A5%E5%B8%AE%E5%8A%A9%E6%88%91%E4%BB%AC%E4%BE%9D%E6%AC%A1%E8%8E%B7%E5%BE%97%E6%9B%B4%E9%AB%98%E5%88%86%E8%BE%A8%E7%8E%87%E7%9A%84%E8%83%B8%E7%89%87%E5%9B%BE%E3%80%82%E7%BB%93%E6%9E%84%E4%B8%BB%E8%A6%81%E5%8C%85%E6%8B%AC%E4%BA%86Bilateral%20LSTMs%3B%20Conditional%20GAN%3B%20Siamese%20Network%E3%80%82%E7%82%B9%E5%87%BB%E8%BF%99%E9%87%8C%E6%9F%A5%E7%9C%8Bpdf%E2%80%A6%E2%80%A6';
        var pic="https://web.archive.org/web/20210302081222/https://fishesplace.com/wp-content/uploads/2020/06/f2e63d6239ee3b6be3b0142c7fc1a3a.png";
        var _URL;
        if(obj=="qq"){
            _URL=qqShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="weibo"){
            _URL=weiboShareURL+"url="+host_url+"&title="+title+wbexcerpt+"&pic="+pic;
        }else if(obj=="qzone"){
            _URL=qzoneShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="facebook"){
             _URL=facebookShareURL+"u="+host_url;
        }else if(obj=="twitter"){
             _URL=twitterShareURL+"text="+title+excerpt+"&url="+host_url;
        }
        window.open(_URL);
    }
    </script>
</div>                </div>
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                    <a>No Tag</a>                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020年6月17日</span>
                    </div>
                </div>
            </footer>
        </div>
        <nav class="navigation post-navigation clearfix" role="navigation">
                        <div class="nav-previous clearfix">
                <a title="[课程项目] ML模型预测steam平台游戏销量" href="https://web.archive.org/web/20210302081222/https://fishesplace.com/2020/06/11/steam-project-intro/">&lt; 上一篇</a>
            </div>
                        <div class="nav-next">
                <a title="[Unity 2D Platform] 如何用Unity的原生物理系统实现更好的跳跃手感？" href="https://web.archive.org/web/20210302081222/https://fishesplace.com/2020/06/17/unity-better-jump-control/">下一篇 &gt;</a>
            </div>
                    </nav>
        <div id="comments" class="comments-area">
    <ol class="comment-list">
    </ol>	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/web/20210302081222/https://fishesplace.com/2020/06/16/x-ray-gan-project/#respond" style="display:none;">取消回复</a></small></h4><form action="https://web.archive.org/web/20210302081222/https://fishesplace.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">电子邮件地址不会被公开。必填项已用 * 标注</p><div class="comment form-group has-feedback"><div class="input-group"><textarea class="form-control" id="comment" placeholder="鼓励一下还在国外没有工作的Xinyu吧|´・ω・)~" name="comment" rows="5" aria-required="true" required="" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById('submit').click();return false}};"></textarea></div><div class="OwO"></div></div><div class="comment-form-author form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-user"></i></div><input class="form-control" placeholder="昵称" id="author" name="author" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-email form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input class="form-control" placeholder="邮箱" id="email" name="email" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-key"></i></div><input class="form-control" placeholder="人机验证：9 ＋ 7 = ?" id="code" name="code" type="text" value="" autocomplete="off" size="30"><span class="form-control-feedback required">*</span><input type="hidden" name="co_num1" value="10"><input type="hidden" name="co_num2" value="9"></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-link"></i></div><input class="form-control" placeholder="网站" id="url" name="url" type="text" value="" size="30"></div></div>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-primary" value="发表评论"> <input type="hidden" name="comment_post_ID" value="49" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	</div>    </article>
    </section>
        </div>    </div>
</div>
                <footer>
                    <div id="footer" style="background:rgba(35,40,45,0.4)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                                    <p class="kratos-social-icons"><a target="_blank" rel="nofollow" href="https://web.archive.org/web/20210302081222/mailto:xinyu@fishesplace.com"><i class="fa fa-envelope"></i></a>                                    </p>
                                    <p> © 2021 <a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/">鱼之家</a>. All Rights Reserved. | 已在风雨中度过 <span id="span_dt_dt">Loading...</span><br>Theme <a href="https://web.archive.org/web/20210302081222/https://moedog.org/" target="_blank" rel="nofollow">Kratos-pjax Made by Moedog</a> Modifying by Xinyu himself | <a href="https://web.archive.org/web/20210302081222/https://fishesplace.com/sitemap.html" target="_blank">Sitemap</a>                                                                        </p>
                                </div>
                            </div>
                        </div>
                        <div class="cd-tool text-center">
                                                        <div class="gotop-box"><div class="gotop-btn"><span class="fa fa-chevron-up"></span></div></div>
                                                        <div class="search-box">
                                <span class="fa fa-search"></span>
                                <form class="search-form" role="search" method="get" id="searchform" action="https://web.archive.org/web/20210302081222/https://fishesplace.com/">
                                    <input type="text" name="s" id="search" placeholder="Search..." style="display:none">
                                </form>
                            </div>
                        </div>
                                            </div>
                </footer>
            </div>
        </div>
---
<div id="kratos-wrapper">
            <div id="kratos-page">
                <div id="kratos-header">
                                        <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                                        <header id="kratos-header-section">
                        <div class="container">
                            <div class="nav-header">
                                                                <nav id="kratos-menu-wrap" class="menu-menu-1-container"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/">首页</a></li>
<li><a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/about-xinyu/">关于Xinyu</a></li>
</ul></nav>                            </div>
                        </div>
                    </header>
                </div>
                                <div class="kratos-start kratos-hero-2">
                    <div class="kratos-overlay"></div>
                    <div class="kratos-cover kratos-cover_2 text-center">
                        <div class="desc desc2 animate-box">
                            <a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/"><h2></h2><br><span></span></a>
                        </div>
                    </div>
                </div>
                                <div id="kratos-blog-post">    <div id="container" class="container">
        <div class="row">
        <aside id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm scrollspy">
    <div id="sidebar" class="affix-top">
        <aside id="kratos_about-2" class="widget widget_kratos_about clearfix">        <div class="photo-background">
            <div class="photo-background" style="background:url(https://web.archive.org/web/20210302075747im_/https://fishesplace.com/pics/self_intro_bg.png) no-repeat center center;-webkit-background-size:cover;background-size:cover"></div>
        </div>
                <div class="photo-wrapper clearfix">
            <div class="photo-wrapper-tip text-center">
                <a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/wp-login.php?redirect_to=https%3A%2F%2Ffishesplace.com%2F2020%2F06%2F11%2Fsteam-project-intro%2F" rel="nofollow"><img class="about-photo" src="https://web.archive.org/web/20210302075747im_/https://fishesplace.com/pics/self_intro_icon.png" alt=""></a>
            </div>
        </div>
        <div class="textwidget">
            <p class="text-center">数据分析/管理；机器学习；Programmer</p>
        </div></aside><aside id="categories-6" class="widget widget_categories clearfix"><h4 class="widget-title">文章分类</h4>		<ul>
				<li class="cat-item cat-item-7"><a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/category/shaders/">Shaders</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/category/tech/">技术</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/category/%e6%b8%b8%e6%88%8f/">游戏</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/category/project/">项目</a> (2)
</li>
	<li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/category/uncategorized/">默认分类</a> (2)
</li>
		</ul>
			</aside>    </div>
</aside>
<section id="main" class="col-md-8">
        <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">[课程项目] ML模型预测steam平台游戏销量</h1>
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020年6月11日                    <i class="fa fa-commenting-o"></i> 0条评论                    <i class="fa fa-eye"></i> 541次阅读  
                    <span class="hd">
                    <i class="fa fa-thumbs-o-up"></i> 0人点赞                    <i class="fa fa-user"></i> xinyu                    </span>
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
            
<p>想知道一份游戏在steam上能卖出多少份么？想知道有哪几款游戏和我想要的一样么？点击<a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/steam-pred-intro/">这里</a>查看我的课程项目介绍和部署到线上的模型吧。</p>
            </div>
                        <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://web.archive.org/web/20210302075747/http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
                        <footer class="kratos-entry-footer clearfix">
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                                   <a href="javascript:;" id="btn" data-action="love" data-id="48" class="Love"><i class="fa fa-thumbs-o-up"></i> 点赞</a>
                <a href="javascript:;" class="Share"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain twitter" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode"><img src="https://web.archive.org/web/20210302075747im_/https://api.fczbl.vip/qr/?m=0&amp;url=https://fishesplace.com/2020/06/11/steam-project-intro/" width="150" height="150"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
    </div>
    <script type="text/javascript">
    function share(obj){
        var qqShareURL="https://web.archive.org/web/20210302075747/http://connect.qq.com/widget/shareqq/index.html?";
        var weiboShareURL="https://web.archive.org/web/20210302075747/http://service.weibo.com/share/share.php?";
        var qzoneShareURL="https://web.archive.org/web/20210302075747/https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
        var facebookShareURL="https://web.archive.org/web/20210302075747/https://www.facebook.com/sharer/sharer.php?";
        var twitterShareURL="https://web.archive.org/web/20210302075747/https://twitter.com/intent/tweet?";
        var host_url="https://web.archive.org/web/20210302075747/https://fishesplace.com/2020/06/11/steam-project-intro/";
        var title='%E3%80%90%5B%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE%5D%20ML%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8Bsteam%E5%B9%B3%E5%8F%B0%E6%B8%B8%E6%88%8F%E9%94%80%E9%87%8F%E3%80%91';
        var qqtitle='%E3%80%90%5B%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE%5D%20ML%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8Bsteam%E5%B9%B3%E5%8F%B0%E6%B8%B8%E6%88%8F%E9%94%80%E9%87%8F%E3%80%91';
        var excerpt='%E6%83%B3%E7%9F%A5%E9%81%93%E4%B8%80%E4%BB%BD%E6%B8%B8%E6%88%8F%E5%9C%A8steam%E4%B8%8A%E8%83%BD%E5%8D%96%E5%87%BA%E5%A4%9A%E5%B0%91%E4%BB%BD%E4%B9%88%EF%BC%9F%E6%83%B3%E7%9F%A5%E9%81%93%E6%9C%89%E5%93%AA%E5%87%A0%E6%AC%BE%E6%B8%B8%E6%88%8F%E5%92%8C%E6%88%91%E6%83%B3%E8%A6%81%E7%9A%84%E4%B8%80%E6%A0%B7%E4%B9%88%EF%BC%9F%E7%82%B9%E5%87%BB%E8%BF%99%E9%87%8C%E6%9F%A5%E7%9C%8B%E6%88%91%E7%9A%84%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D%E5%92%8C%E9%83%A8%E7%BD%B2%E5%88%B0%E7%BA%BF%E4%B8%8A%E7%9A%84%E6%A8%A1%E5%9E%8B%E5%90%A7%E3%80%82';
        var wbexcerpt='%E6%83%B3%E7%9F%A5%E9%81%93%E4%B8%80%E4%BB%BD%E6%B8%B8%E6%88%8F%E5%9C%A8steam%E4%B8%8A%E8%83%BD%E5%8D%96%E5%87%BA%E5%A4%9A%E5%B0%91%E4%BB%BD%E4%B9%88%EF%BC%9F%E6%83%B3%E7%9F%A5%E9%81%93%E6%9C%89%E5%93%AA%E5%87%A0%E6%AC%BE%E6%B8%B8%E6%88%8F%E5%92%8C%E6%88%91%E6%83%B3%E8%A6%81%E7%9A%84%E4%B8%80%E6%A0%B7%E4%B9%88%EF%BC%9F%E7%82%B9%E5%87%BB%E8%BF%99%E9%87%8C%E6%9F%A5%E7%9C%8B%E6%88%91%E7%9A%84%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D%E5%92%8C%E9%83%A8%E7%BD%B2%E5%88%B0%E7%BA%BF%E4%B8%8A%E7%9A%84%E6%A8%A1%E5%9E%8B%E5%90%A7%E3%80%82';
        var pic="";
        var _URL;
        if(obj=="qq"){
            _URL=qqShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="weibo"){
            _URL=weiboShareURL+"url="+host_url+"&title="+title+wbexcerpt+"&pic="+pic;
        }else if(obj=="qzone"){
            _URL=qzoneShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="facebook"){
             _URL=facebookShareURL+"u="+host_url;
        }else if(obj=="twitter"){
             _URL=twitterShareURL+"text="+title+excerpt+"&url="+host_url;
        }
        window.open(_URL);
    }
    </script>
</div>                </div>
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                    <a>No Tag</a>                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020年6月11日</span>
                    </div>
                </div>
            </footer>
        </div>
        <nav class="navigation post-navigation clearfix" role="navigation">
                        <div class="nav-previous clearfix">
                <a title="[Unity自学] 更复杂的程序+数值策划：Glitch Garden" href="https://web.archive.org/web/20210302075747/https://fishesplace.com/2020/05/26/glitch-garden-intro/">&lt; 上一篇</a>
            </div>
                        <div class="nav-next">
                <a title="[课程项目] 深度学习： 由诊断结论生成正側面胸部CT/X光图像" href="https://web.archive.org/web/20210302075747/https://fishesplace.com/2020/06/16/x-ray-gan-project/">下一篇 &gt;</a>
            </div>
                    </nav>
        <div id="comments" class="comments-area">
    <ol class="comment-list">
    </ol>	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/web/20210302075747/https://fishesplace.com/2020/06/11/steam-project-intro/#respond" style="display:none;">取消回复</a></small></h4><form action="https://web.archive.org/web/20210302075747/https://fishesplace.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">电子邮件地址不会被公开。必填项已用 * 标注</p><div class="comment form-group has-feedback"><div class="input-group"><textarea class="form-control" id="comment" placeholder="鼓励一下还在国外没有工作的Xinyu吧|´・ω・)~" name="comment" rows="5" aria-required="true" required="" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById('submit').click();return false}};"></textarea></div><div class="OwO"></div></div><div class="comment-form-author form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-user"></i></div><input class="form-control" placeholder="昵称" id="author" name="author" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-email form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input class="form-control" placeholder="邮箱" id="email" name="email" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-key"></i></div><input class="form-control" placeholder="人机验证：5 ＋ 0 = ?" id="code" name="code" type="text" value="" autocomplete="off" size="30"><span class="form-control-feedback required">*</span><input type="hidden" name="co_num1" value="6"><input type="hidden" name="co_num2" value="2"></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-link"></i></div><input class="form-control" placeholder="网站" id="url" name="url" type="text" value="" size="30"></div></div>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-primary" value="发表评论"> <input type="hidden" name="comment_post_ID" value="48" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	</div>    </article>
    </section>
        </div>    </div>
</div>
                <footer>
                    <div id="footer" style="background:rgba(35,40,45,0.4)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                                    <p class="kratos-social-icons"><a target="_blank" rel="nofollow" href="https://web.archive.org/web/20210302075747/mailto:xinyu@fishesplace.com"><i class="fa fa-envelope"></i></a>                                    </p>
                                    <p> © 2021 <a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/">鱼之家</a>. All Rights Reserved. | 已在风雨中度过 <span id="span_dt_dt">Loading...</span><br>Theme <a href="https://web.archive.org/web/20210302075747/https://moedog.org/" target="_blank" rel="nofollow">Kratos-pjax Made by Moedog</a> Modifying by Xinyu himself | <a href="https://web.archive.org/web/20210302075747/https://fishesplace.com/sitemap.html" target="_blank">Sitemap</a>                                                                        </p>
                                </div>
                            </div>
                        </div>
                        <div class="cd-tool text-center">
                                                        <div class="gotop-box"><div class="gotop-btn"><span class="fa fa-chevron-up"></span></div></div>
                                                        <div class="search-box">
                                <span class="fa fa-search"></span>
                                <form class="search-form" role="search" method="get" id="searchform" action="https://web.archive.org/web/20210302075747/https://fishesplace.com/">
                                    <input type="text" name="s" id="search" placeholder="Search..." style="display:none">
                                </form>
                            </div>
                        </div>
                                            </div>
                </footer>
            </div>
        </div>
---
<div id="kratos-wrapper">
            <div id="kratos-page">
                <div id="kratos-header">
                                        <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                                        <header id="kratos-header-section">
                        <div class="container">
                            <div class="nav-header">
                                                                <nav id="kratos-menu-wrap" class="menu-menu-1-container"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/">首页</a></li>
<li><a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/about-xinyu/">关于Xinyu</a></li>
</ul></nav>                            </div>
                        </div>
                    </header>
                </div>
                                <div class="kratos-start kratos-hero-2">
                    <div class="kratos-overlay"></div>
                    <div class="kratos-cover kratos-cover_2 text-center">
                        <div class="desc desc2 animate-box">
                            <a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/"><h2></h2><br><span></span></a>
                        </div>
                    </div>
                </div>
                                <div id="kratos-blog-post">    <div id="container" class="container">
        <div class="row">
        <aside id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm scrollspy">
    <div id="sidebar" class="affix-top">
        <aside id="kratos_about-2" class="widget widget_kratos_about clearfix">        <div class="photo-background">
            <div class="photo-background" style="background:url(https://web.archive.org/web/20210302082530im_/https://fishesplace.com/pics/self_intro_bg.png) no-repeat center center;-webkit-background-size:cover;background-size:cover"></div>
        </div>
                <div class="photo-wrapper clearfix">
            <div class="photo-wrapper-tip text-center">
                <a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/wp-login.php?redirect_to=https%3A%2F%2Ffishesplace.com%2F2020%2F05%2F26%2Fglitch-garden-intro%2F" rel="nofollow"><img class="about-photo" src="https://web.archive.org/web/20210302082530im_/https://fishesplace.com/pics/self_intro_icon.png" alt=""></a>
            </div>
        </div>
        <div class="textwidget">
            <p class="text-center">数据分析/管理；机器学习；Programmer</p>
        </div></aside><aside id="categories-6" class="widget widget_categories clearfix"><h4 class="widget-title">文章分类</h4>		<ul>
				<li class="cat-item cat-item-7"><a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/category/shaders/">Shaders</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/category/tech/">技术</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/category/%e6%b8%b8%e6%88%8f/">游戏</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/category/project/">项目</a> (2)
</li>
	<li class="cat-item cat-item-1"><a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/category/uncategorized/">默认分类</a> (2)
</li>
		</ul>
			</aside>    </div>
</aside>
<section id="main" class="col-md-8">
        <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">[Unity自学] 更复杂的程序+数值策划：Glitch Garden</h1>
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020年5月26日                    <i class="fa fa-commenting-o"></i> 0条评论                    <i class="fa fa-eye"></i> 691次阅读  
                    <span class="hd">
                    <i class="fa fa-thumbs-o-up"></i> 0人点赞                    <i class="fa fa-user"></i> xinyu                    </span>
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
            
<p>依旧是自己主程序+主策划，这次竟然有两关了！而且还有那激动人心的boss战！来用Gnomes筑起钢铁长城吧。虽然依旧是Udemy课程引领下做的项目，但我成功加进去了一些自己的心思，实现了关卡出怪的模块化和精确设计。毕竟哪个男孩和女孩不想最后打场酣畅淋漓的boss战呢！</p>



<p>美术（主要是SpriteSheets驱动的动画）和音乐资源来自<a href="https://web.archive.org/web/20210302082530/https://www.glitchthegame.com/" target="_blank" rel="nofollow">glitch-the-game</a>。</p>



<figure class="wp-block-image size-large is-resized"><img src="https://web.archive.org/web/20210302082530im_/https://fishesplace.com/wp-content/uploads/2020/05/glitch_garden_screenshots.png" alt="" class="wp-image-40" width="575" height="474"></figure>



<p>点击<a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/glitch-gaden-wrapped">这里</a>来玩吧。</p>
            </div>
                        <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://web.archive.org/web/20210302082530/http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
                        <footer class="kratos-entry-footer clearfix">
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                                   <a href="javascript:;" id="btn" data-action="love" data-id="39" class="Love"><i class="fa fa-thumbs-o-up"></i> 点赞</a>
                <a href="javascript:;" class="Share"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain twitter" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode"><img src="https://web.archive.org/web/20210302082530im_/https://api.fczbl.vip/qr/?m=0&amp;url=https://fishesplace.com/2020/05/26/glitch-garden-intro/" width="150" height="150"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
    </div>
    <script type="text/javascript">
    function share(obj){
        var qqShareURL="https://web.archive.org/web/20210302082530/http://connect.qq.com/widget/shareqq/index.html?";
        var weiboShareURL="https://web.archive.org/web/20210302082530/http://service.weibo.com/share/share.php?";
        var qzoneShareURL="https://web.archive.org/web/20210302082530/https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
        var facebookShareURL="https://web.archive.org/web/20210302082530/https://www.facebook.com/sharer/sharer.php?";
        var twitterShareURL="https://web.archive.org/web/20210302082530/https://twitter.com/intent/tweet?";
        var host_url="https://web.archive.org/web/20210302082530/https://fishesplace.com/2020/05/26/glitch-garden-intro/";
        var title='%E3%80%90%5BUnity%E8%87%AA%E5%AD%A6%5D%20%E6%9B%B4%E5%A4%8D%E6%9D%82%E7%9A%84%E7%A8%8B%E5%BA%8F%2B%E6%95%B0%E5%80%BC%E7%AD%96%E5%88%92%EF%BC%9AGlitch%20Garden%E3%80%91';
        var qqtitle='%E3%80%90%5BUnity%E8%87%AA%E5%AD%A6%5D%20%E6%9B%B4%E5%A4%8D%E6%9D%82%E7%9A%84%E7%A8%8B%E5%BA%8F%2B%E6%95%B0%E5%80%BC%E7%AD%96%E5%88%92%EF%BC%9AGlitch%20Garden%E3%80%91';
        var excerpt='%E4%BE%9D%E6%97%A7%E6%98%AF%E8%87%AA%E5%B7%B1%E4%B8%BB%E7%A8%8B%E5%BA%8F%2B%E4%B8%BB%E7%AD%96%E5%88%92%EF%BC%8C%E8%BF%99%E6%AC%A1%E7%AB%9F%E7%84%B6%E6%9C%89%E4%B8%A4%E5%85%B3%E4%BA%86%EF%BC%81%E8%80%8C%E4%B8%94%E8%BF%98%E6%9C%89%E9%82%A3%E6%BF%80%E5%8A%A8%E4%BA%BA%E5%BF%83%E7%9A%84boss%E6%88%98%EF%BC%81%E6%9D%A5%E7%94%A8Gnomes%E7%AD%91%E8%B5%B7%E9%92%A2%E9%93%81%E9%95%BF%E5%9F%8E%E5%90%A7%E3%80%82%E8%99%BD%E7%84%B6%E4%BE%9D%E6%97%A7%E6%98%AFUdemy%E8%AF%BE%E7%A8%8B%E5%BC%95%E9%A2%86%E4%B8%8B%E5%81%9A%E7%9A%84%E9%A1%B9%E7%9B%AE%EF%BC%8C%E4%BD%86%E6%88%91%E6%88%90%E5%8A%9F%E5%8A%A0%E8%BF%9B%E5%8E%BB%E4%BA%86%E4%B8%80%E4%BA%9B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%BF%83%E6%80%9D%EF%BC%8C%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%85%B3%E5%8D%A1%E5%87%BA%E6%80%AA%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96%E5%92%8C%E7%B2%BE%E7%A1%AE%E8%AE%BE%E8%AE%A1%E3%80%82%E6%AF%95%E7%AB%9F%E5%93%AA%E4%B8%AA%E7%94%B7%E5%AD%A9%E5%92%8C%E5%A5%B3%E5%AD%A9%E4%B8%8D%E6%83%B3%E6%9C%80%E5%90%8E%E6%89%93%E5%9C%BA%E9%85%A3%E7%95%85%E6%B7%8B%E6%BC%93%E7%9A%84boss%E6%88%98%E5%91%A2%EF%BC%81%20%E7%BE%8E%E6%9C%AF%EF%BC%88%E4%B8%BB%E8%A6%81%E6%98%AFSpriteSheets%E9%A9%B1%E5%8A%A8%E7%9A%84%E5%8A%A8%E7%94%BB%EF%BC%89%E5%92%8C%E9%9F%B3%E4%B9%90%E8%B5%84%E6%BA%90%E6%9D%A5%E8%87%AAglit%E2%80%A6%E2%80%A6';
        var wbexcerpt='%E4%BE%9D%E6%97%A7%E6%98%AF%E8%87%AA%E5%B7%B1%E4%B8%BB%E7%A8%8B%E5%BA%8F%2B%E4%B8%BB%E7%AD%96%E5%88%92%EF%BC%8C%E8%BF%99%E6%AC%A1%E7%AB%9F%E7%84%B6%E6%9C%89%E4%B8%A4%E5%85%B3%E4%BA%86%EF%BC%81%E8%80%8C%E4%B8%94%E8%BF%98%E6%9C%89%E9%82%A3%E6%BF%80%E5%8A%A8%E4%BA%BA%E5%BF%83%E7%9A%84boss%E6%88%98%EF%BC%81%E6%9D%A5%E7%94%A8Gnomes%E7%AD%91%E8%B5%B7%E9%92%A2%E9%93%81%E9%95%BF%E5%9F%8E%E5%90%A7%E3%80%82%E8%99%BD%E7%84%B6%E4%BE%9D%E6%97%A7%E6%98%AFUdemy%E8%AF%BE%E7%A8%8B%E5%BC%95%E9%A2%86%E4%B8%8B%E5%81%9A%E7%9A%84%E9%A1%B9%E7%9B%AE%EF%BC%8C%E4%BD%86%E6%88%91%E6%88%90%E5%8A%9F%E5%8A%A0%E8%BF%9B%E5%8E%BB%E4%BA%86%E4%B8%80%E4%BA%9B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%BF%83%E6%80%9D%EF%BC%8C%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%85%B3%E5%8D%A1%E5%87%BA%E6%80%AA%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96%E5%92%8C%E7%B2%BE%E7%A1%AE%E8%AE%BE%E8%AE%A1%E3%80%82%E6%AF%95%E7%AB%9F%E5%93%AA%E4%B8%AA%E7%94%B7%E5%AD%A9%E5%92%8C%E5%A5%B3%E5%AD%A9%E4%B8%8D%E6%83%B3%E6%9C%80%E5%90%8E%E6%89%93%E5%9C%BA%E9%85%A3%E7%95%85%E6%B7%8B%E6%BC%93%E7%9A%84boss%E6%88%98%E5%91%A2%EF%BC%81%20%E7%BE%8E%E6%9C%AF%EF%BC%88%E4%B8%BB%E8%A6%81%E6%98%AFSpriteSheets%E9%A9%B1%E5%8A%A8%E7%9A%84%E5%8A%A8%E7%94%BB%EF%BC%89%E5%92%8C%E9%9F%B3%E4%B9%90%E8%B5%84%E6%BA%90%E6%9D%A5%E8%87%AAglit%E2%80%A6%E2%80%A6';
        var pic="https://web.archive.org/web/20210302082530/https://fishesplace.com/wp-content/uploads/2020/05/glitch_garden_screenshots.png";
        var _URL;
        if(obj=="qq"){
            _URL=qqShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="weibo"){
            _URL=weiboShareURL+"url="+host_url+"&title="+title+wbexcerpt+"&pic="+pic;
        }else if(obj=="qzone"){
            _URL=qzoneShareURL+"url="+host_url+"&title="+qqtitle+"&pics="+pic+"&desc=&summary="+excerpt+"&site=vtrois";
        }else if(obj=="facebook"){
             _URL=facebookShareURL+"u="+host_url;
        }else if(obj=="twitter"){
             _URL=twitterShareURL+"text="+title+excerpt+"&url="+host_url;
        }
        window.open(_URL);
    }
    </script>
</div>                </div>
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                    <a>No Tag</a>                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020年6月7日</span>
                    </div>
                </div>
            </footer>
        </div>
        <nav class="navigation post-navigation clearfix" role="navigation">
                        <div class="nav-previous clearfix">
                <a title="[Unity自学] 不那么激动人心的雷电类射击游戏" href="https://web.archive.org/web/20210302082530/https://fishesplace.com/2020/05/20/unity%e8%87%aa%e5%ad%a6-%e4%b8%8d%e9%82%a3%e4%b9%88%e6%bf%80%e5%8a%a8%e4%ba%ba%e5%bf%83%e7%9a%84%e9%9b%b7%e7%94%b5%e7%b1%bb%e5%b0%84%e5%87%bb%e6%b8%b8%e6%88%8f/">&lt; 上一篇</a>
            </div>
                        <div class="nav-next">
                <a title="[课程项目] ML模型预测steam平台游戏销量" href="https://web.archive.org/web/20210302082530/https://fishesplace.com/2020/06/11/steam-project-intro/">下一篇 &gt;</a>
            </div>
                    </nav>
        <div id="comments" class="comments-area">
    <ol class="comment-list">
    </ol>	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/web/20210302082530/https://fishesplace.com/2020/05/26/glitch-garden-intro/#respond" style="display:none;">取消回复</a></small></h4><form action="https://web.archive.org/web/20210302082530/https://fishesplace.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">电子邮件地址不会被公开。必填项已用 * 标注</p><div class="comment form-group has-feedback"><div class="input-group"><textarea class="form-control" id="comment" placeholder="鼓励一下还在国外没有工作的Xinyu吧|´・ω・)~" name="comment" rows="5" aria-required="true" required="" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById('submit').click();return false}};"></textarea></div><div class="OwO"></div></div><div class="comment-form-author form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-user"></i></div><input class="form-control" placeholder="昵称" id="author" name="author" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-email form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input class="form-control" placeholder="邮箱" id="email" name="email" type="text" value="" size="30"><span class="form-control-feedback required">*</span></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-key"></i></div><input class="form-control" placeholder="人机验证：4 ＋ 3 = ?" id="code" name="code" type="text" value="" autocomplete="off" size="30"><span class="form-control-feedback required">*</span><input type="hidden" name="co_num1" value="5"><input type="hidden" name="co_num2" value="5"></div></div>
<div class="comment-form-url form-group has-feedback"><div class="input-group"><div class="input-group-addon"><i class="fa fa-link"></i></div><input class="form-control" placeholder="网站" id="url" name="url" type="text" value="" size="30"></div></div>

<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-primary" value="发表评论"> <input type="hidden" name="comment_post_ID" value="39" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	</div>    </article>
    </section>
        </div>    </div>
</div>
                <footer>
                    <div id="footer" style="background:rgba(35,40,45,0.4)">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                                    <p class="kratos-social-icons"><a target="_blank" rel="nofollow" href="https://web.archive.org/web/20210302082530/mailto:xinyu@fishesplace.com"><i class="fa fa-envelope"></i></a>                                    </p>
                                    <p> © 2021 <a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/">鱼之家</a>. All Rights Reserved. | 已在风雨中度过 <span id="span_dt_dt">Loading...</span><br>Theme <a href="https://web.archive.org/web/20210302082530/https://moedog.org/" target="_blank" rel="nofollow">Kratos-pjax Made by Moedog</a> Modifying by Xinyu himself | <a href="https://web.archive.org/web/20210302082530/https://fishesplace.com/sitemap.html" target="_blank">Sitemap</a>                                                                        </p>
                                </div>
                            </div>
                        </div>
                        <div class="cd-tool text-center">
                                                        <div class="gotop-box"><div class="gotop-btn"><span class="fa fa-chevron-up"></span></div></div>
                                                        <div class="search-box">
                                <span class="fa fa-search"></span>
                                <form class="search-form" role="search" method="get" id="searchform" action="https://web.archive.org/web/20210302082530/https://fishesplace.com/">
                                    <input type="text" name="s" id="search" placeholder="Search..." style="display:none">
                                </form>
                            </div>
                        </div>
                                            </div>
                </footer>
            </div>
        </div>